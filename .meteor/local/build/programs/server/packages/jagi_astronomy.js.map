{"version":3,"sources":["meteor://ðŸ’»app/packages/jagi:astronomy/lib/main.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/core/class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/core/config.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/core/ejson.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/core/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/core/reserved_keywords.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/behavior.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/class_static_methods/get_behavior.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/class_static_methods/get_behaviors.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/class_static_methods/has_behavior.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/behaviors/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/utils/cloneDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/utils/deprecated.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/utils/override_method.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/utils/throw_parse_error.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/core/utils/warn.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/event.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/class_prototype_methods/dispatch_event.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/class_static_methods/dispatch_event.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/class_static_methods/get_events.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/class_static_methods/hasEvent.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/events/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/Enum.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/Field.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/ListField.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/ObjectField.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/ScalarField.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/Union.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/type.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_events/from_json_value.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_events/to_json_value.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_prototype_methods/get.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_prototype_methods/raw.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_prototype_methods/set.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_field.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_fields.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_fields_names.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_list_fields.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_object_fields.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/get_scalar_fields.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/class_static_methods/has_field.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/boolean.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/date.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/mongo_object_id.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/number.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/object.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/types/string.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/castNested.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/castToClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/getAll.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/getChildClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/getMany.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/getOne.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/isNestedFieldName.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/rawAll.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/rawMany.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/rawOne.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/resolveValues.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/set_all.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/set_many.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/set_one.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/fields/utils/traverse.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/class_static_methods/getHelper.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/class_static_methods/getHelpers.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/class_static_methods/hasHelper.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onApplyDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onInitClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onInitDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onInitSchema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onMergeDefinitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/helpers/hooks/onParseDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/class_static_methods/get_index.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/class_static_methods/get_indexes.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/class_static_methods/has_index.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/indexes/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/class_prototype_methods/applyMethod.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/class_prototype_methods/callMethod.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/class_static_methods/getMeteorMethod.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/class_static_methods/getMeteorMethods.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/class_static_methods/hasMeteorMethod.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onApplyDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onFinalizeClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onInitClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onInitDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onInitSchema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onMergeDefinitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/hooks/onParseDefinition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/meteor_methods/astronomyExecute.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/methods/utils/wrapMethod.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_events/fromJSONValue.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_events/toJSONValue.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/copy.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/getModified.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/getModifiedValues.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/getModifier.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/isModified.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/reload.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_prototype_methods/save.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/find.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/get_collection.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/get_transform.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/get_type_field.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/is_secured.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/class_static_methods/upsert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/meteor_methods/insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/meteor_methods/remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/meteor_methods/update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/meteor_methods/upsert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/already_in_simulation.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/apply_modifier.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/call_meteor_method.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/class_insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/class_remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/class_update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/class_upsert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/diff.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/document_insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/document_remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/document_update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/getModified.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/getModifier.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/has_meteor_method.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/isModified.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/is_remote.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/omit_undefined.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/throw_if_selector_is_not_id.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/transformToClass.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_after_insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_after_remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_after_save.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_after_update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_before_insert.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_before_remove.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_before_save.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/trigger_before_update.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/storage/utils/wrapTransform.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/module.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validator.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_prototype_methods/validate.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_prototype_methods/validate_all.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/getCheckPattern.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/get_resolve_error.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/get_validation_order.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/get_validators.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/validate.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/class_static_methods/validateAll.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/apply_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/init_class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/init_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/init_schema.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/merge_definitions.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/hooks/parse_definition.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/meteor_methods/validate.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/utils/document_validate.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/utils/parse_validators.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/comparison/choice.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/comparison/email.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/comparison/equal.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/comparison/not_equal.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/comparison/regexp.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/existence/not_null.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/existence/null.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/existence/required.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/logical/and.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/logical/or.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/nested/every.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/nested/has.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/nested/includes.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/gt.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/gte.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/length.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/lt.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/lte.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/max_length.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/size/min_length.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/array.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/boolean.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/class.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/date.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/integer.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/mongo_object_id.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/number.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/object.js","meteor://ðŸ’»app/packages/jagi:astronomy/lib/modules/validators/validators/type/string.js"],"names":["module1","module","export","Astro","Module","Class","Enum","Union","Type","Field","ScalarField","ObjectField","ListField","Behavior","Validator","Validators","ValidationError","Event","reservedKeywords","watch","require","Config","default","v","config","_concat","_defaults","_each","_has","_includes","_intersection","_isNumber","EJSON","throwParseError","cloneDefinition","castNested","warn","initClass","definition","schema","children","forEach","onInitSchema","getName","onInitDefinition","onInitClass","constructor","rawDoc","options","defaults","clone","cast","doc","Error","getCollection","_isNew","dispatchEvent","getFieldsNames","fieldName","set","typeName","toJSONValue","args","json","class","className","getParent","parentClassName","get","getChildren","depth","classes","push","Child","create","name","extend","validate","param","inherit","Parent","extendDefinition","onlyModules","Match","test","String","method","length","aliases","parsedDefinition","onParseDefinition","onApplyDefinition","onMergeDefinitions","onFinalizeClass","ChildClass","has","includes","isParentOf","prototype","isPrototypeOf","isChildOf","isNew","arguments","exportDefault","verbose","resolving","AstroClass","addType","Object","Maybe","hookName","undefined","Function","utils","methodName","targetDefinition","sourceDefinition","modules","modulesOrder","moduleName","iteratee","reservedNames","_extend","checkDefinition","behaviors","createClassDefinition","apply","behaviorName","getBehavior","getBehaviors","hasBehavior","behaviorsOptions","BehaviorClass","behaviorOptions","behavior","ClassName","OneOf","Array","deprecated","overrideMethod","_cloneDeepWith","_isPlainObject","_isArray","value","message","_toArray","object","overridingMethod","originalMethod","call","_isObject","details","detail","key","TypeError","warning","console","error","type","data","cancelable","propagates","toLowerCase","timeStamp","Date","now","target","currentTarget","defaultPrevented","propagationStopped","immediatePropagationStopped","preventDefault","stopPropagation","stopImmediatePropagation","_every","returnFromDispatchEvent","event","eventHandlers","getEvents","eventHandler","getObjectFields","field","getListFields","isClass","element","eventName","events","_get","hasEvent","_uniq","dispatchEventProto","trgDefinition","srcDefinition","_zipObject","_range","_forOwn","_isNil","_values","_keys","_indexOf","check","enumDefinitionPattern","identifiers","i","values","keys","identifier","getValues","getIdentifiers","getIdentifier","index","defineProperty","writable","enumerable","choice","enums","optional","immutable","transient","getDefault","castValue","getOptional","required","resolveValue","resolve","_map","castToClass","resolveValues","array","resolvedValues","nestedRawDoc","_clone","_some","unionDefinitionPattern","types","Optional","caughtErrors","TypeClass","AstroType","find","err","unions","getAll","getMany","getOne","isNestedFieldName","rawAll","rawMany","rawOne","setAll","setMany","setOne","traverse","_find","typeDefinitionPattern","Any","fromJSONValue","e","parse","stringify","raw","merge","result","fieldValue","nestedFieldValue","nestedFieldName","getField","fields","getFields","fieldsNames","_filter","classOnly","getScalarFields","hasField","checkTypeExistence","fieldDefinition","typePattern","Boolean","boolean","_isNaN","parseInt","time","date","Mongo","ObjectID","mongoObjectID","Number","number","string","getChildClass","typeField","getTypeField","_omitBy","nestedDoc","fieldPattern","indexOf","_fromPairs","_difference","fieldsValues","setValue","callback","segments","split","lastIndex","next","segmentIndex","segment","getHelper","helperName","helpers","getHelpers","hasHelper","helper","getMethod","getMethods","hasMethod","methods","getIndex","indexName","indexes","getIndexes","hasIndex","_mapKeys","Collection","Meteor","isServer","_connection","prefixIndexes","checkedClasses","collectNestedIndexes","_ensureIndex","fieldDefinitionPattern","ObjectIncluding","indexDefinition","callMeteorMethod","applyMethod","methodArgs","meteorMethodArgs","_last","callMethod","pop","meteorMethods","wrapMethod","hasMeteorMethod","astronomyExecute","collection","connection","server","getMeteorMethod","getMeteorMethods","meteorMethod","meteorMethodName","_id","findOne","applyModifier","classInsert","classUpdate","classRemove","documentInsert","documentUpdate","documentRemove","getModified","getModifier","isModified","isRemote","omitUndefined","throwIfSelectorIsNotId","transformToClass","triggerBeforeSave","triggerBeforeInsert","triggerBeforeUpdate","triggerBeforeRemove","triggerAfterSave","triggerAfterInsert","triggerAfterUpdate","triggerAfterRemove","wrapTransform","copy","save","utilGetModified","getModifiedValues","old","modified","utilGetModifier","utilIsModified","pattern","reload","transform","remove","simulation","selector","trusted","_omit","DDP","stopOnFirstError","forceUpdate","inserting","generateId","_isRemoteCollection","enclosing","_CurrentInvocation","_makeNewID","modifier","_isNull","createMethod","_rewriteSelector","disableEvents","$in","classTransform","getTransform","insert","isSecured","operation","secured","common","update","classUpsert","upsert","protoSave","protoRemove","protoReload","protoCopy","protoGetModifier","protoGetModified","protoGetModifiedValues","protoIsModified","meteorInsert","meteorUpdate","meteorUpsert","meteorRemove","id","IdType","afterInit","alreadyInSimulation","isSimulation","_size","LocalCollection","_modify","_name","methodOptions","throwStubExceptions","returnStubValue","docs","Minimongo","oldDocs","multi","fetch","oldDoc","limit","matcher","Matcher","queryResult","documentMatches","arrayIndices","numberAffected","insertedId","count","_createUpsertDocument","_removeDollarOperators","isInsert","_noop","_union","diff","newDoc","prefix","onDiff","onObjectDiff","onListDiff","onScalarDiff","oldValue","newValue","equals","nestedPrefix","oldList","newList","documentValidate","_collection","toString","handlers","maxLength","Math","max","arrayPrefix","oldElement","newElement","opts","$set","$push","$each","slice","$inc","$unset","methodHandlers","_methodHandlers","method_handlers","_transform","obj","_selectorIsIdPerhapsAsObject","parseValidators","parseParam","isValid","resolveError","nestedName","resolveParam","validator","throwError","classResolveError","getResolveError","DEFAULT_REASON","validators","getValidationOrder","validateAll","getCheckPattern","Where","is","firstError","matchError","sanitizedError","getValidators","validationOrder","concat","_tail","meteorValidate","validateStatic","validateAllStatic","getCheckPatternStatic","errors","catchValidationError","func","substr","lastIndexOf","validationFunction","validatorsPattern","parseContext","choices","join","re","RegExp","_isDate","_isInteger"],"mappings":"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","file":"/packages/jagi_astronomy.js","sourcesContent":["import './core/ejson.js';\nimport './modules/core/module.js';\nimport './modules/storage/module.js';\nimport './modules/behaviors/module.js';\nimport './modules/events/module.js';\nimport './modules/methods/module.js';\nimport './modules/helpers/module.js';\nimport './modules/fields/module.js';\nimport './modules/indexes/module.js';\nimport './modules/validators/module.js';\n\nimport Config from './core/config.js';\nimport Module from './core/module.js';\nimport Class from './core/class.js';\nimport reservedKeywords from './core/reserved_keywords.js';\nimport Enum from './modules/fields/Enum.js';\nimport Union from './modules/fields/Union.js';\nimport Type from './modules/fields/type.js';\nimport Field from './modules/fields/Field';\nimport ScalarField from './modules/fields/ScalarField';\nimport ObjectField from './modules/fields/ObjectField';\nimport ListField from './modules/fields/ListField';\nimport Behavior from './modules/behaviors/behavior.js';\nimport Validator from './modules/validators/validator.js';\nimport Validators from './modules/validators/validators.js';\nimport { ValidationError } from 'meteor/mdg:validation-error';\nimport Event from './modules/events/event.js';\n\nconst Astro = {\n  config: Config,\n  Config,\n  Module,\n  Class,\n  Enum,\n  Union,\n  Type,\n  Field,\n  ScalarField,\n  ObjectField,\n  ListField,\n  Behavior,\n  Validator,\n  Validators,\n  ValidationError,\n  Event,\n  reservedKeywords\n};\n\nexport {\n  Astro,\n  Module,\n  Class,\n  Enum,\n  Union,\n  Type,\n  Field,\n  ScalarField,\n  ObjectField,\n  ListField,\n  Behavior,\n  Validator,\n  Validators,\n  ValidationError,\n  Event,\n  reservedKeywords\n};","import _concat from \"lodash/concat\";\nimport _defaults from \"lodash/defaults\";\nimport _each from \"lodash/each\";\nimport _has from \"lodash/has\";\nimport _includes from \"lodash/includes\";\nimport _intersection from \"lodash/intersection\";\nimport _isNumber from \"lodash/isNumber\";\nimport { EJSON } from \"meteor/ejson\";\nimport config from \"./config\";\nimport throwParseError from \"../modules/core/utils/throw_parse_error\";\nimport cloneDefinition from \"../modules/core/utils/cloneDefinition\";\nimport castNested from \"../modules/fields/utils/castNested\";\nimport Module from \"./module\";\nimport Event from \"../modules/events/event\";\nimport Type from \"../modules/fields/type\";\nimport Validators from \"../modules/validators/validators\";\nimport warn from \"../modules/core/utils/warn\";\n\nlet initClass = function(Class) {\n  // Create and store the schema \"definition\" object in the class constructor.\n  // It's a combination of all parent definitions and a definition that\n  // created this class. It's used to create child classes.\n  Class.definition = {};\n  // Create and store the \"schema\" object in the class constructor. It's an\n  // object that contains all the data related with a given class. The\n  // \"schema\" object contains \"computed\" data of the schema \"definition\".\n  // Thanks to that, Astronomy does not need to compute data on the fly and\n  // everything works faster.\n  Class.schema = {};\n  // Create empty array for storing child classes.\n  Class.children = [];\n  // Init the class schema and schema definition.\n  Module.forEach(module => {\n    module.onInitSchema(Class.schema, Class.getName());\n    module.onInitDefinition(Class.definition, Class.getName());\n  });\n  // We have to call the \"onInitClass\" hooks in the separate loop after\n  // initiation of the schema and schema definition, because some\n  // \"onInitClass\" hooks can execute the \"Class.extend\" method which requires\n  // schema and schama definition to be initalized.\n  Module.forEach(module => {\n    module.onInitClass(Class, Class.getName());\n  });\n};\n\nclass Class {\n  constructor(rawDoc = {}, options = {}) {\n    // Set default options.\n    _defaults(options, {\n      // From version 2.3.0, we can turn off setting default values on fetching\n      // so it will not populate fields that were excluded on find.\n      defaults: config.defaults,\n      // We clone values on document construction, but this option is overridden\n      // in the \"find\" method and set to false, so it does not unnecessary clone\n      // clone raw values.\n      clone: true,\n      cast: false\n    });\n\n    const doc = this;\n    const Class = doc.constructor;\n\n    if (!Class.getName()) {\n      throw new Error('Can not create instance of the \"Class\" class');\n    }\n\n    // If there is the \"_isNew\" property passed to the class constructor, the\n    // we use it to determine if a document is stored in collection. Otherwise\n    // document is a new one.\n    if (Class.getCollection()) {\n      doc._isNew = _has(rawDoc, \"_isNew\") ? rawDoc._isNew : true;\n    }\n\n    // Trigger the \"beforeInit\" event handlers.\n    doc.dispatchEvent(new Event(\"beforeInit\"));\n\n    // Set values in a document.\n    _each(Class.getFieldsNames(), fieldName => {\n      doc.set(fieldName, rawDoc[fieldName], options);\n    });\n\n    // Trigger the \"afterInit\" event handlers.\n    doc.dispatchEvent(new Event(\"afterInit\"));\n  }\n\n  // Method needed for EJSONification.\n  typeName() {\n    return \"Astronomy\";\n  }\n\n  toJSONValue(args) {\n    let doc = this;\n    let Class = doc.constructor;\n\n    let json = {\n      class: Class.getName()\n    };\n\n    // Trigger the \"toJSONValue\" event handlers.\n    doc.dispatchEvent(\n      new Event(\"toJSONValue\", {\n        json: json\n      })\n    );\n\n    return json;\n  }\n\n  static getName() {\n    return this.className;\n  }\n\n  static getParent() {\n    if (this.parentClassName) {\n      return this.get(this.parentClassName);\n    }\n  }\n\n  /**\n   * @param {(Number|Boolean)} depth - The depth to which look for children, or \"true\" to get all children.\n   */\n  static getChildren(depth = 1) {\n    const classes = [];\n    if (!depth) {\n      return classes;\n    }\n    classes.push(...this.children);\n    if (_isNumber(depth)) {\n      depth--;\n    }\n    _each(this.children, Child => {\n      classes.push(...Child.getChildren(depth));\n    });\n    return classes;\n  }\n\n  static create(definition) {\n    // Get class name.\n    let className = definition.name;\n    // Warn about class duplicate.\n    if (_has(this.classes, className)) {\n      warn(`Duplicate of the \"${className}\" class`);\n    }\n    // Extend the Class class.\n    let Class = (this.classes[className] = class Class extends this {});\n    // Store the class name in the constructor.\n    Class.className = className;\n    // Initialize class.\n    initClass(Class);\n    // Extend class with a definition.\n    Class.extend(definition);\n    // Register a new type.\n    Type.create({\n      name: className,\n      class: Class,\n      validate(args) {\n        // Add current class as a param of validator.\n        args.param = Class;\n        Validators.class(args);\n      }\n    });\n\n    return Class;\n  }\n\n  static inherit(definition) {\n    const Parent = this;\n    const className = definition.name;\n    // Warn about class duplicate.\n    if (_has(this.classes, className)) {\n      warn(`Duplicate of the \"${className}\" class`);\n    }\n    // Extend the parent class.\n    const Class = (this.classes[className] = class Class extends Parent {});\n    // Store the class name in the constructor.\n    Class.className = className;\n    // Store the parent class name in the constructor.\n    Class.parentClassName = Parent.getName();\n    // Initialize class.\n    initClass(Class);\n    // Store child class in the parent class.\n    Parent.children.push(Class);\n    // Extend class with the parent class definition.\n    Class.extend(Parent.definition);\n    // Extend class with the definition.\n    Class.extend(definition);\n    // Register a new type.\n    Type.create({\n      name: className,\n      class: Class,\n      validate(args) {\n        // Add current class as a param of validator.\n        args.param = Class;\n        Validators.class(args);\n      }\n    });\n\n    return Class;\n  }\n\n  static extend(extendDefinition, onlyModules = []) {\n    if (typeof onlyModules === \"string\") {\n      onlyModules = [onlyModules];\n    }\n\n    if (!Match.test(onlyModules, [String])) {\n      throwParseError([\n        {\n          class: this.getName()\n        },\n        {\n          method: \"extend\"\n        },\n        \"The second argument has to be a string or an array of strings\"\n      ]);\n    }\n\n    // Clone definition to not modify the original one.\n    extendDefinition = cloneDefinition(extendDefinition);\n\n    Module.forEach(module => {\n      // If the second argument was passed, then we only run module hooks for\n      // modules that were listed in the second argument.\n      if (\n        onlyModules.length > 0 &&\n        !_includes(onlyModules, module.name) &&\n        _intersection(onlyModules, module.aliases).length === 0\n      ) {\n        return;\n      }\n      // Initialize parsed definition.\n      let parsedDefinition = {};\n      module.onInitDefinition(parsedDefinition, Class.getName());\n      // Parse the extending definition and put parsed properties in the parsed\n      // definition.\n      module.onParseDefinition(\n        parsedDefinition,\n        extendDefinition,\n        this.getName()\n      );\n      // Apply parsed definition.\n      module.onApplyDefinition(this, parsedDefinition, this.getName());\n      // Merge parsed definition with a class definition.\n      module.onMergeDefinitions(\n        this.definition,\n        parsedDefinition,\n        this.getName()\n      );\n      // Finalize class creation.\n      module.onFinalizeClass(this, this.getName());\n    });\n\n    // Extend children.\n    const children = this.getChildren();\n    _each(children, ChildClass => {\n      ChildClass.extend(extendDefinition, onlyModules);\n    });\n  }\n\n  static get(className) {\n    return this.classes[className];\n  }\n\n  static has(className) {\n    return _has(this.classes, className);\n  }\n\n  static includes(Class) {\n    return _includes(this.classes, Class);\n  }\n\n  static isParentOf(Class) {\n    if (!Class || !Class.prototype) {\n      return false;\n    }\n    return this.prototype.isPrototypeOf(Class.prototype);\n  }\n\n  static isChildOf(Class) {\n    if (!Class || !Class.prototype) {\n      return false;\n    }\n    return Class.prototype.isPrototypeOf(this.prototype);\n  }\n\n  static isNew(doc, isNew) {\n    if (arguments.length === 2) {\n      doc._isNew = isNew;\n    } else {\n      return doc._isNew;\n    }\n  }\n}\n\nClass.classes = {};\n\nexport default Class;\n","const Config = {\n  verbose: true,\n  resolving: true,\n  defaults: true\n};\n\nexport default Config;","import AstroClass from './class.js';\nimport Event from '../modules/events/event.js';\n\nEJSON.addType('Astronomy', function(json) {\n  let Class = AstroClass.get(json.class);\n  let doc = new Class();\n\n  // Trigger the \"fromJSONValue\" event handlers.\n  doc.dispatchEvent(new Event('fromJSONValue', {\n    json: json\n  }));\n\n  return doc;\n});","import _each from 'lodash/each';\nimport throwParseError from '../modules/core/utils/throw_parse_error.js';\n\nclass Module {\n  constructor(definition) {\n    if (!Match.test(definition, Object)) {\n      throwParseError([\n        'Module definition has to be an object'\n      ]);\n    }\n\n    // Set module name.\n    if (!Match.test(definition.name, String)) {\n      throwParseError([\n        'Module name has to be a string'\n      ]);\n    }\n    this.name = definition.name;\n\n    // Set module aliases.\n    if (!Match.test(definition.aliases, Match.Maybe([String]))) {\n      throwParseError([\n        `Module aliases has to be an array of strings in the \"${this.name}\" module`\n      ]);\n    }\n    this.aliases = definition.aliases;\n\n    // Set module hooks.\n    _each([\n      'onInitSchema', 'onInitDefinition', 'onInitClass', 'onParseDefinition',\n      'onApplyDefinition', 'onMergeDefinitions', 'onFinalizeClass'\n    ], (hookName) => {\n      if (definition[hookName] === undefined) {\n        return;\n      }\n      if (!Match.test(definition[hookName], Function)) {\n        throwParseError([{\n            'module': this.name\n          }, {\n            'property': hookName\n          },\n          `The \"${hookName}\" hook has to be a function`\n        ]);\n      }\n      this[hookName] = definition[hookName];\n    });\n\n    // Set module utils.\n    if (definition.utils) {\n      if (!Match.test(definition.utils, Object)) {\n        throwParseError([{\n            'module': this.name\n          }, {\n            'property': 'utils'\n          },\n          'Utilities definition has to be an object'\n        ]);\n      }\n      this.utils = {};\n      _each(definition.utils, (method, methodName) => {\n        if (!Match.test(method, Function)) {\n          throwParseError([{\n              'module': this.name\n            }, {\n              'property': 'utils'\n            }, {\n              'method': methodName\n            },\n            'Utility has to be a function'\n          ]);\n        }\n        this.utils[methodName] = method;\n      });\n    }\n  }\n\n  onInitSchema(schema, className) {}\n  onInitDefinition(definition, className) {}\n\n  onInitClass(Class, className) {}\n\n  onParseDefinition(parsedDefinition, definition, className) {}\n  onApplyDefinition(Class, definition, className) {}\n  onMergeDefinitions(targetDefinition, sourceDefinition, className) {}\n\n  onFinalizeClass(Class, className) {}\n\n  static create(definition) {\n    let module = new this(definition);\n    this.modules[module.name] = module;\n    this.modulesOrder.push(module.name);\n    return module;\n  }\n\n  static get(moduleName) {\n    return this.modules[moduleName];\n  }\n\n  static forEach(iteratee) {\n    if (!Match.test(iteratee, Function)) {\n      throwParseError([\n        'The first argument of the \"Module.forEach\" method has to be a function'\n      ]);\n    }\n    _each(this.modulesOrder, (moduleName) => {\n      iteratee(this.modules[moduleName]);\n    });\n  }\n};\n\nModule.modules = {};\nModule.modulesOrder = [];\n\nexport default Module;","const reservedNames = [\n  '_isNew',\n  'copy',\n  'dispatchEvent',\n  'get',\n  'getModified',\n  'getModifiedValues',\n  'getModifier',\n  'isModified',\n  'raw',\n  'reload',\n  'remove',\n  'save',\n  'set',\n  'toJSONValue',\n  'typeName',\n  'validate',\n  'validateAll'\n];\n\nexport default reservedNames;","import _has from 'lodash/has';\nimport _extend from 'lodash/extend';\nimport throwParseError from '../core/utils/throw_parse_error.js';\n\nconst checkDefinition = function(definition) {\n  // Check parameters validity.\n  if (!Match.test(definition, Object)) {\n    throwParseError([\n      'Behavior definition has to be an object'\n    ]);\n  }\n\n  // Check if behavior name is provided and is a string.\n  if (!Match.test(definition.name, String)) {\n    throwParseError([\n      'Behavior has to be named'\n    ]);\n  }\n\n  // Check if behavior with a given name already exists.\n  if (_has(Behavior.behaviors, definition.name)) {\n    throwParseError([{\n        'behavior': definition.name\n      },\n      'Behavior already exists'\n    ]);\n  }\n};\n\nclass Behavior {\n  constructor(options) {\n    this.options = _extend({}, this.options, options);\n  }\n\n  createClassDefinition() {}\n\n  apply(Class) {\n    let definition = this.createClassDefinition();\n    if (definition) {\n      Class.extend(definition);\n    }\n  }\n\n  static create(definition) {\n    checkDefinition(definition);\n\n    // Get behavior name.\n    let behaviorName = definition.name;\n    // Extend the Behavior class.\n    let Behavior = this.behaviors[behaviorName] = class Behavior extends this {};\n    // Store definition in behavior class.\n    Behavior.definition = definition;\n    // Extend prototype with a definition.\n    _extend(Behavior.prototype, definition);\n\n    return Behavior;\n  }\n\n  static get(behaviorName) {\n    return this.behaviors[behaviorName];\n  }\n\n  static has(behaviorName) {\n    return _has(this.behaviors, behaviorName);\n  }\n};\n\nBehavior.behaviors = {};\n\nexport default Behavior;","import Module from '../../core/module.js';\n// Hooks.\nimport onInitSchema from './hooks/init_schema.js';\nimport onInitDefinition from './hooks/init_definition.js';\nimport onParseDefinition from './hooks/parse_definition.js';\nimport onMergeDefinitions from './hooks/merge_definitions.js';\nimport onApplyDefinition from './hooks/apply_definition.js';\nimport onInitClass from './hooks/init_class.js';\n\nModule.create({\n\tname: 'behaviors',\n\tonInitSchema: onInitSchema,\n\tonInitDefinition: onInitDefinition,\n\tonParseDefinition: onParseDefinition,\n\tonMergeDefinitions: onMergeDefinitions,\n\tonApplyDefinition: onApplyDefinition,\n\tonInitClass: onInitClass\n});","function getBehavior(behaviorName) {\n  return this.schema.behaviors[behaviorName];\n};\n\nexport default getBehavior;","function getBehaviors() {\n  return this.schema.behaviors;\n};\n\nexport default getBehaviors;","import _has from 'lodash/has';\n\nfunction hasBehavior(behaviorName) {\n  return _has(this.schema.behaviors, behaviorName);\n};\n\nexport default hasBehavior;","import _each from 'lodash/each';\nimport Behavior from '../behavior.js';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  let schema = Class.schema;\n\n  // Add behaviors to the class.\n  _each(parsedDefinition.behaviors, (behaviorsOptions, behaviorName) => {\n    // Get the behavior class.\n    let BehaviorClass = Behavior.get(behaviorName);\n    _each(behaviorsOptions, (behaviorOptions) => {\n      // Create the behavior instance passing behavior options.\n      let behavior = new BehaviorClass(behaviorOptions);\n      // Add behavior to the schema.\n      schema.behaviors[behaviorName] = schema.behaviors[behaviorName] || [];\n      schema.behaviors[behaviorName].push(behavior);\n      // Apply behavior to the class.\n      behavior.apply(Class);\n    });\n  });\n};\n\nexport default onApplyDefinition;","import getBehavior from '../class_static_methods/get_behavior.js';\nimport getBehaviors from '../class_static_methods/get_behaviors.js';\nimport hasBehavior from '../class_static_methods/has_behavior.js';\n\nfunction onInitClass(Class, className) {\n\tClass.getBehavior = getBehavior;\n\tClass.getBehaviors = getBehaviors;\n\tClass.hasBehavior = hasBehavior;\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n\tdefinition.behaviors = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n\tschema.behaviors = {};\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, ClassName) {\n  _each(sourceDefinition.behaviors, (behaviors, behaviorName) => {\n    targetDefinition.behaviors[behaviorName] =\n      targetDefinition.behaviors[behaviorName] || [];\n    targetDefinition.behaviors[behaviorName].push(...behaviors);\n  });\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport Behavior from '../behavior.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  // Check existence of the \"behaviors\" property.\n  if (definition.behaviors !== undefined) {\n    if (!Match.test(definition.behaviors, Match.OneOf([String], Object))) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'behaviors'\n        },\n        `Behaviors definition has to be an array of behaviors' names or an ` +\n        `object with behaviors' options`\n      ]);\n    }\n    _each(definition.behaviors, function(behaviorOptions, behaviorName) {\n      // If we deal with an array of behaviors' names, then behavior options is\n      // an empty object.\n      if (typeof behaviorOptions === 'string') {\n        behaviorName = behaviorOptions;\n        behaviorOptions = [{}];\n      }\n      // Check if behavior with a given name exists.\n      if (!Behavior.has(behaviorName)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'behavior': behaviorName\n          },\n          'Behavior does not exist'\n        ]);\n      }\n      // Behavior options has to be an object or an array of objects, when we\n      // are adding multiple behaviors of the same type.\n      if (!Match.test(behaviorOptions, Match.OneOf(Object, [Object]))) {\n        throwParseError([{\n            'class': className\n          }, {\n            'behavior': behaviorName\n          },\n          'Behavior options have to be an object or an array of objects'\n        ]);\n      }\n      // Make sure that behavior options is an array of objects.\n      if (!Match.test(behaviorOptions, Array)) {\n        behaviorOptions = [behaviorOptions];\n      }\n      parsedDefinition.behaviors[behaviorName] = behaviorOptions;\n    });\n  }\n};\n\nexport default onParseDefinition;","import Module from '../../core/module.js';\n// Utils.\nimport cloneDefinition from './utils/cloneDefinition';\nimport deprecated from './utils/deprecated.js';\nimport overrideMethod from './utils/override_method.js';\nimport throwParseError from './utils/throw_parse_error.js';\nimport warn from './utils/warn.js';\n\nModule.create({\n  name: 'core',\n  utils: {\n    cloneDefinition,\n    deprecated,\n    overrideMethod,\n    throwParseError,\n    warn\n  }\n});","import _cloneDeepWith from 'lodash/cloneDeepWith';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _isArray from 'lodash/isArray';\n\nfunction cloneDefinition(definition) {\n  return _cloneDeepWith(definition, (value) => {\n    if (!_isPlainObject(value) && !_isArray(value)) {\n      return value;\n    }\n  });\n}\n\nexport default cloneDefinition;","import config from '../../../core/config';\nimport warn from './warn';\n\nfunction deprecated(message) {\n  // Be silent and do not log any warnings.\n  if (!config.verbose) {\n    return;\n  }\n  // Print message to the console.\n  warn(`Deprecation warning: ${message}`);\n}\n\nexport default deprecated;","import _toArray from 'lodash/toArray';\n\nfunction overrideMethod(object, methodName, overridingMethod, param) {\n  // Get original method.\n  let originalMethod = object[methodName];\n\n  // Override original method.\n  object[methodName] = function() {\n    // Convert arguments to array.\n    let args = _toArray(arguments);\n\n    // Execute overriding method passing arguments, original method and extra\n    // parameters.\n    return overridingMethod.call(this, args, originalMethod, param);\n  };\n};\n\nexport default overrideMethod;","import _each from 'lodash/each';\nimport _isObject from 'lodash/isObject';\n\nfunction throwParseError(details) {\n  let message = '';\n\n  _each(details, (detail) => {\n    if (_isObject(detail)) {\n      _each(detail, (value, key) => {\n        message += '[\"' + value + '\" ' + key + ']'\n      });\n    }\n    else if (typeof detail === 'string') {\n      message += ' ' + detail;\n    }\n  });\n\n  throw new TypeError(message);\n};\n\nexport default throwParseError;","import config from \"../../../core/config.js\";\n\nfunction warn(warning) {\n  // Be silent and do not log any warnings.\n  if (!config.verbose) {\n    return;\n  }\n  try {\n    console.warn(warning);\n  } catch (error) {}\n}\n\nexport default warn;\n","import _extend from 'lodash/extend';\n\nclass Event {\n  constructor(type, data) {\n    this.cancelable = false;\n    this.propagates = false;\n\n    _extend(this, data);\n\n    this.type = type.toLowerCase();\n    this.timeStamp = Date.now();\n\n    this.target = null;\n    this.currentTarget = null;\n\n    this.defaultPrevented = false;\n    this.propagationStopped = false;\n    this.immediatePropagationStopped = false;\n  }\n\n  preventDefault() {\n    this.defaultPrevented = true;\n  }\n\n  stopPropagation() {\n    this.propagationStopped = true;\n  }\n\n  stopImmediatePropagation() {\n    this.immediatePropagationStopped = true;\n    this.stopPropagation();\n  }\n};\n\nexport default Event;","import Module from '../../core/module.js';\n\nimport onInitSchema from './hooks/init_schema.js';\nimport onInitDefinition from './hooks/init_definition.js';\nimport onParseDefinition from './hooks/parse_definition.js';\nimport onMergeDefinitions from './hooks/merge_definitions.js';\nimport onApplyDefinition from './hooks/apply_definition.js';\nimport onInitClass from './hooks/init_class.js';\n\nModule.create({\n\tname: 'events',\n\tonInitSchema: onInitSchema,\n\tonInitDefinition: onInitDefinition,\n\tonParseDefinition: onParseDefinition,\n\tonMergeDefinitions: onMergeDefinitions,\n\tonApplyDefinition: onApplyDefinition,\n\tonInitClass: onInitClass\n});","import _each from 'lodash/each';\nimport _every from 'lodash/every';\nimport _isArray from 'lodash/isArray';\nimport Event from '../event.js';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport { default as AstroClass } from '../../../core/class.js';\n\nfunction returnFromDispatchEvent(event) {\n  // If an event is cancelable and it had been canceled with the\n  // \"preventDefault\" method call, then we return false.\n  if (event.cancelable) {\n    return !event.defaultPrevented;\n  }\n  return true;\n}\n\nfunction dispatchEvent(event) {\n  const doc = this;\n  const Class = doc.constructor;\n\n  if (!Match.test(event, Event)) {\n    throwParseError([{\n        'class': Class.getName()\n      }, {\n        'method': 'dispatchEvent'\n      },\n      'The first argument has to be an event object'\n    ]);\n  }\n\n  // Attach a document to the event as a target.\n  if (event.target === null) {\n    event.target = doc;\n  }\n  if (event.currentTarget === null) {\n    event.currentTarget = doc;\n  }\n\n  // Get all event handlers of a given type.\n  const eventHandlers = Class.getEvents(event.type);\n\n  _every(eventHandlers, function(eventHandler) {\n    eventHandler(event);\n\n    // Stop execution of the following event handlers, if a flag is set.\n    return !event.immediatePropagationStopped;\n  });\n\n  // If propagation was stopped or bubbling is turned off, then we don't go\n  // deeper into nested fields.\n  if (event.propagationStopped || !event.propagates) {\n    return returnFromDispatchEvent(event);\n  }\n\n  // Object fields.\n  _each(Class.getObjectFields(), function(field) {\n    let value = doc[field.name];\n    if (value instanceof AstroClass) {\n      event.currentTarget = value;\n      value.dispatchEvent(event);\n    }\n  });\n\n  // List fields.\n  _each(Class.getListFields(), function(field) {\n    let value = doc[field.name];\n    if (field.isClass && _isArray(value)) {\n      _each(value, function(element) {\n        if (element instanceof AstroClass) {\n          event.currentTarget = element;\n          element.dispatchEvent(event);\n        }\n      });\n    }\n  });\n\n  return returnFromDispatchEvent(event);\n}\n\nexport default dispatchEvent;","import _every from 'lodash/every';\nimport Event from '../event';\nimport throwParseError from '../../core/utils/throw_parse_error';\n\nfunction returnFromDispatchEvent(event) {\n  // If an event is cancelable and it had been canceled with the\n  // \"preventDefault\" method call, then we return false.\n  if (event.cancelable) {\n    return !event.defaultPrevented;\n  }\n  return true;\n}\n\nfunction dispatchEvent(event) {\n  const Class = this;\n\n  // Get all event handlers of a given type.\n  const eventHandlers = Class.getEvents(event.type);\n\n  // If there are no event of a fiven type, then just return true.\n  if (eventHandlers.length === 0) {\n    return true;\n  }\n\n  // Attach a document to the event as a target.\n  if (event.target === null) {\n    event.target = Class;\n  }\n  if (event.currentTarget === null) {\n    event.currentTarget = Class;\n  }\n\n  _every(eventHandlers, (eventHandler) => {\n    eventHandler(event);\n\n    // Stop execution of the following event handlers, if a flag is set.\n    return !event.immediatePropagationStopped;\n  });\n\n  return returnFromDispatchEvent(event);\n}\n\nexport default dispatchEvent;","function getEvents(eventName) {\n  let Class = this;\n\n  if (eventName) {\n    eventName = eventName.toLowerCase();\n    return Class.schema.events[eventName] || [];\n  }\n  return Class.schema.events;\n}\n\nexport default getEvents;","import _get from 'lodash/get';\nimport _has from 'lodash/has';\nimport _includes from 'lodash/includes';\n\nfunction hasEvent(eventName, eventHandler) {\n  const Class = this;\n\n  eventName = eventName.toLowerCase();\n\n  if (arguments.length === 2) {\n    return _includes(_get(Class.schema.events, eventName), eventHandler);\n  }\n  else if (arguments.length === 1) {\n    return _has(Class.schema.events, eventName);\n  }\n}\n\nexport default hasEvent;","import _defaults from 'lodash/defaults';\nimport _each from 'lodash/each';\nimport _uniq from 'lodash/uniq';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  const schema = Class.schema;\n\n  // Add events to the event manager.\n  _each(parsedDefinition.events, function(eventHandlers, eventName) {\n    eventName = eventName.toLowerCase();\n    // By default events list should be an empty array.\n    _defaults(schema.events, {\n      [eventName]: []\n    });\n    // Add all events to the list.\n    schema.events[eventName].push(...eventHandlers);\n    // Make sure that there are no duplicates.\n    schema.events[eventName] = _uniq(schema.events[eventName]);\n  });\n};\n\nexport default onApplyDefinition;","// Class static methods.\nimport dispatchEvent from '../class_static_methods/dispatch_event.js';\nimport getEvents from '../class_static_methods/get_events.js';\nimport hasEvent from '../class_static_methods/hasEvent';\n// Class prototype methods.\nimport { default as dispatchEventProto } from '../class_prototype_methods/dispatch_event.js';\n\nfunction onInitClass(Class, className) {\n  // Class static methods.\n  Class.dispatchEvent = dispatchEvent;\n  Class.getEvents = getEvents;\n  Class.hasEvent = hasEvent;\n  // Class prototype methods.\n  Class.prototype.dispatchEvent = dispatchEventProto;\n}\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n\tdefinition.events = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n\tschema.events = {};\n};\n\nexport default onInitSchema;","import _defaults from 'lodash/defaults';\nimport _each from 'lodash/each';\nimport _uniq from 'lodash/uniq';\n\nfunction onMergeDefinitions(trgDefinition, srcDefinition, ClassName) {\n  _each(srcDefinition.events, function(eventHandlers, eventName) {\n    eventName = eventName.toLowerCase();\n    // By default events list should be an empty array.\n    _defaults(trgDefinition.events, {\n      [eventName]: []\n    });\n    // Add all events to the list.\n    trgDefinition.events[eventName].push(...eventHandlers);\n    // Make sure that there are no duplicates.\n    trgDefinition.events[eventName] = _uniq(trgDefinition.events[eventName]);\n  });\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  // Check existence and validity of the \"events\" property.\n  if (definition.events !== undefined) {\n    _each(definition.events, function(eventHandlers, eventName) {\n      eventName = eventName.toLowerCase();\n      // Check if the event definition is an array of functions.\n      if (!Match.test(eventHandlers, Match.OneOf(Function, [Function]))) {\n        throwParseError([{\n            'class': className\n          }, {\n            'event': eventName\n          },\n          'Event handler has to be a function or an array of functions'\n        ]);\n      }\n      // Convert function to array of functions.\n      if (Match.test(eventHandlers, Function)) {\n        eventHandlers = [eventHandlers];\n      }\n      parsedDefinition.events[eventName] = eventHandlers;\n    });\n  }\n};\n\nexport default onParseDefinition;","import _zipObject from 'lodash/zipObject';\nimport _range from 'lodash/range';\nimport _forOwn from 'lodash/forOwn';\nimport _isNil from 'lodash/isNil';\nimport _isNumber from 'lodash/isNumber';\nimport _values from 'lodash/values';\nimport _keys from 'lodash/keys';\nimport _indexOf from 'lodash/indexOf';\nimport _each from 'lodash/each';\nimport Type from './type.js';\nimport Validators from '../validators/validators.js';\nimport { check, Match } from 'meteor/check';\n\nconst enumDefinitionPattern = {\n  name: String,\n  identifiers: Match.OneOf(Array, Object)\n};\n\nconst Enum = {\n  create(definition) {\n    check(definition, enumDefinitionPattern);\n\n    // Get identifiers and values.\n    let identifiers;\n    if (Match.test(definition.identifiers, Array)) {\n      identifiers = _zipObject(\n        definition.identifiers, _range(definition.identifiers.length)\n      );\n    }\n    else if (Match.test(definition.identifiers, Object)) {\n      identifiers = definition.identifiers;\n      let i = 0;\n      _forOwn(identifiers, function(value, key) {\n        if (_isNil(value)) {\n          identifiers[key] = i;\n          i++;\n        }\n        else if (_isNumber(value)) {\n          i = value + 1;\n        }\n      });\n    }\n    const values = _values(identifiers);\n    const keys = _keys(identifiers);\n    // Create a new Enum constructor.\n    const Enum = function Enum(identifier) {\n      return Enum[identifier];\n    };\n    Enum.getValues = function() {\n        return values;\n    };\n    Enum.getIdentifiers = function() {\n      return keys;\n    };\n    Enum.getIdentifier = function(value) {\n      const index = _indexOf(values, value);\n      return keys[index];\n    };\n    // Set identifiers properties in the class.\n    _each(identifiers, (value, name) => {\n      if (Object.defineProperty) {\n        Object.defineProperty(Enum, name, {\n          writable: false,\n          enumerable: true,\n          value\n        });\n      }\n      else {\n        Enum[name] = value;\n      }\n    });\n    // Create type definition for the given enum.\n    Type.create({\n      name: definition.name,\n      class: Enum,\n      validate(args) {\n        args.param = values;\n        Validators.choice(args);\n      }\n    });\n    // Store enum in the enums list.\n    this.enums[definition.name] = Enum;\n\n    return Enum;\n  },\n  enums: {}\n};\n\nexport default Enum;","import _defaults from 'lodash/defaults';\nimport _extend from 'lodash/extend';\nimport _isNil from 'lodash/isNil';\nimport Validators from '../validators/validators.js';\n\nclass Field {\n  constructor(definition = {}) {\n    _defaults(definition, {\n      optional: false,\n      immutable: false,\n      transient: false\n    });\n    _extend(this, definition);\n  }\n\n  getDefault(doc) {\n    const value = typeof this.default === 'function'\n      ? this.default(doc)\n      : this.default;\n    return this.castValue(value, {\n      cast: true\n    });\n  }\n\n  getOptional(doc) {\n    if (typeof this.optional === 'function') {\n      return this.optional(doc);\n    }\n    return this.optional;\n  }\n\n  validate(args) {\n    // If a field is not optional (required) then it has to have value.\n    if (!this.getOptional(args.doc)) {\n      Validators.required(args);\n    }\n  }\n\n  castValue(value, options) {\n    if (!_isNil(value)) {\n      return this.cast(value, options);\n    }\n    return value;\n  }\n\n  resolveValue(rawDoc) {\n    if (!rawDoc) {\n      return;\n    }\n    if (typeof this.resolve === 'function') {\n      return this.resolve(rawDoc);\n    }\n    return rawDoc[this.name];\n  }\n};\n\nexport default Field;","import _each from 'lodash/each';\nimport _isArray from 'lodash/isArray';\nimport _isNil from 'lodash/isNil';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _map from 'lodash/map';\nimport Field from './Field';\nimport AstroClass from '../../core/class';\nimport Validators from '../validators/validators';\nimport castToClass from './utils/castToClass';\nimport resolveValues from './utils/resolveValues';\n\nclass ListField extends Field {\n  constructor(definition = {}) {\n    super(definition);\n    this.isClass = AstroClass.isParentOf(this.type.class);\n  }\n\n  validate(args) {\n    super.validate(args);\n    var {\n      doc,\n      name,\n      value\n    } = args;\n    // If a value is not empty.\n    if (!_isNil(value)) {\n      Validators.array(args);\n      _each(value, (element, index) => {\n        this.type.validate({\n          doc,\n          name: name + '.' + index,\n          value: element\n        });\n      });\n    }\n  }\n\n  cast(value, options) {\n    if (options.element) {\n      return this.type.cast(value, options);\n    }\n    if (value === '' && this.optional) {\n      return null;\n    }\n    else if (_isArray(value)) {\n      return _map(value, (element) => {\n        // Class type.\n        if (this.isClass) {\n          // We only cast if a value is a plain object.\n          if (_isPlainObject(element)) {\n            // Cast value to an instance of the class.\n            return castToClass({\n              Class: this.type.class,\n              rawDoc: element,\n              options\n            });\n          }\n          return element;\n        }\n        // Scalar type.\n        else {\n          // The \"cast\" option is only passed to the ObjectFields and ListFields.\n          // Here we have to check if it's set, so we don't cast if user don't\n          // want to.\n          if (options.cast) {\n            return this.type.cast.call(this, element);\n          }\n          return element;\n        }\n      });\n    }\n    return value;\n  }\n\n  resolveValue(rawDoc) {\n    const resolvedValues = super.resolveValue(rawDoc);\n    if (!this.isClass) {\n      return resolvedValues;\n    }\n    return _map(resolvedValues, (nestedRawDoc) => {\n      return resolveValues({\n        Class: this.type.class,\n        rawDoc: nestedRawDoc\n      });\n    });\n  }\n};\n\nexport default ListField;\n","import _isPlainObject from 'lodash/isPlainObject';\nimport Field from './Field';\nimport castToClass from './utils/castToClass';\nimport resolveValues from './utils/resolveValues';\n\nclass ObjectField extends Field {\n  validate(args) {\n    super.validate(args);\n    this.type.validate(args);\n  }\n\n  cast(value, options) {\n    if (value === '' && this.optional) {\n      return null;\n    }\n    // We only cast if a value is a plain object.\n    else if (_isPlainObject(value)) {\n      // Cast value to an instance of the class.\n      return castToClass({\n        Class: this.type.class,\n        rawDoc: value,\n        options\n      });\n    }\n    return value;\n  }\n\n  resolveValue(rawDoc) {\n    return resolveValues({\n      Class: this.type.class,\n      rawDoc: super.resolveValue(rawDoc)\n    });\n  }\n};\n\nexport default ObjectField;","import _isNil from 'lodash/isNil';\nimport Field from './Field';\n\nclass ScalarField extends Field {\n  cast(value) {\n    return this.type.cast.call(this, value);\n  }\n\n  validate(args) {\n    super.validate(args);\n    var {\n      value\n    } = args;\n\n    if (!_isNil(value)) {\n      return this.type.validate(args);\n    }\n  }\n};\n\nexport default ScalarField;","import _clone from 'lodash/clone';\nimport _some from 'lodash/some';\nimport Type from './type.js';\nimport Validators from '../validators/validators.js';\nimport { check, Match } from 'meteor/check';\n\nconst unionDefinitionPattern = {\n  name: String,\n  types: [Function],\n  cast: Match.Optional(Function)\n};\n\nconst Union = {\n  create(definition) {\n    check(definition, unionDefinitionPattern);\n\n    // Create a new Union constructor.\n    const Union = function Union(identifier) {\n      return Union[identifier];\n    };\n\n    // Copy list of types to the union constructor.\n    Union.types = _clone(definition.types);\n    // Copy casting function to the union constructor if defined.\n    if (typeof definition.cast === 'function') {\n      Union.cast = definition.cast;\n    }\n\n    // Create type definition for the given enum.\n    Type.create({\n      name: definition.name,\n      class: Union,\n      cast(value) {\n        return Union.cast ? Union.cast(value) : value;\n      },\n      validate(args) {\n        const caughtErrors = [];\n        // Check if a value will pass validation executed by any of the union\n        // types.\n        if (!_some(Union.types, (TypeClass) => {\n          const AstroType = Type.find(TypeClass);\n          try {\n            AstroType.validate(args);\n            return true;\n          }\n          catch (err) {\n            caughtErrors.push(err);\n            return false;\n          }\n        })) {\n          throw caughtErrors[0];\n        }\n      }\n    });\n    // Store enum in the unions list.\n    this.unions[definition.name] = Union;\n\n    return Union;\n  },\n  unions: {}\n};\n\nexport default Union;","import Module from '../../core/module.js';\n// Types.\nimport './types/boolean.js';\nimport './types/date.js';\nimport './types/mongo_object_id.js';\nimport './types/number.js';\nimport './types/object.js';\nimport './types/string.js';\n// Utils.\nimport castNested from './utils/castNested';\nimport getAll from './utils/getAll';\nimport getMany from './utils/getMany';\nimport getOne from './utils/getOne';\nimport isNestedFieldName from './utils/isNestedFieldName';\nimport rawAll from './utils/rawAll';\nimport rawMany from './utils/rawMany';\nimport rawOne from './utils/rawOne';\nimport setAll from './utils/set_all.js';\nimport setMany from './utils/set_many.js';\nimport setOne from './utils/set_one.js';\nimport traverse from './utils/traverse.js';\n// Hooks.\nimport onInitSchema from './hooks/init_schema.js';\nimport onInitDefinition from './hooks/init_definition.js';\nimport onParseDefinition from './hooks/parse_definition.js';\nimport onMergeDefinitions from './hooks/merge_definitions.js';\nimport onApplyDefinition from './hooks/apply_definition.js';\nimport onInitClass from './hooks/init_class.js';\n\nModule.create({\n  name: 'fields',\n  onInitSchema,\n  onInitDefinition,\n  onParseDefinition,\n  onMergeDefinitions,\n  onApplyDefinition,\n  onInitClass,\n  utils: {\n    castNested,\n    getAll,\n    getMany,\n    getOne,\n    isNestedFieldName,\n    rawAll,\n    rawMany,\n    rawOne,\n    setAll,\n    setMany,\n    setOne,\n    traverse\n  }\n});","import _find from \"lodash/find\";\nimport _has from \"lodash/has\";\nimport Validators from \"../validators/validators.js\";\nimport warn from \"../core/utils/warn\";\n\nconst typeDefinitionPattern = {\n  name: String,\n  class: Match.Any,\n  cast: Match.Optional(Function),\n  validate: Match.Optional(Function)\n};\n\nconst enumDefinitionPattern = {\n  name: String,\n  options: Object\n};\n\nclass Type {\n  constructor(definition) {\n    check(definition, typeDefinitionPattern);\n\n    this.name = definition.name;\n    this.class = definition.class;\n\n    if (typeof definition.validate === \"function\") {\n      this.validate = definition.validate;\n    }\n\n    if (typeof definition.cast === \"function\") {\n      this.cast = definition.cast;\n    }\n  }\n\n  cast(value) {\n    return value;\n  }\n\n  validate(doc, fieldName) {\n    return true;\n  }\n\n  static create(definition) {\n    let type = new Type(definition);\n    // Warn about class duplicate.\n    if (_has(this.types, type.name)) {\n      warn(`Duplicate of the \"${type.name}\" type`);\n    }\n    this.types[type.name] = type;\n  }\n\n  static get(name) {\n    return this.types[name];\n  }\n\n  static has(name) {\n    return _has(this.types, name);\n  }\n\n  static find(Class) {\n    return _find(this.types, type => {\n      return type.class.prototype === Class.prototype;\n    });\n  }\n}\n\nType.types = {};\n\nexport default Type;\n","function fromJSONValue(e) {\n  let doc = e.currentTarget;\n  doc.set(EJSON.parse(e.json.values), {\n    defaults: false,\n    clone: false,\n    cast: false\n  });\n}\n\nexport default fromJSONValue;","import getAll from '../utils/getAll';\n\nfunction toJSONValue(e) {\n\tlet doc = e.currentTarget;\n\te.json.values = EJSON.stringify(getAll(doc));\n};\n\nexport default toJSONValue;","import _isArray from 'lodash/isArray';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport getAll from '../utils/getAll';\nimport getMany from '../utils/getMany';\nimport getOne from '../utils/getOne';\n\nfunction get(...args) {\n  if (args.length === 0) {\n    return getAll(this);\n  }\n  else if (args.length >= 1) {\n    if (typeof args[0] === 'string') {\n      return getOne(this, ...args);\n    }\n    else if (_isArray(args[0])) {\n      return getMany(this, ...args);\n    }\n    else if (_isPlainObject(args[0])) {\n      return getAll(this, ...args);\n    }\n  }\n};\n\nexport default get;","import _isArray from 'lodash/isArray';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport rawAll from '../utils/rawAll';\nimport rawMany from '../utils/rawMany';\nimport rawOne from '../utils/rawOne';\n\nfunction raw(...args) {\n  if (args.length === 0) {\n    return rawAll(this);\n  }\n  else if (args.length >= 1) {\n    if (typeof args[0] === 'string') {\n      return rawOne(this, ...args);\n    }\n    else if (_isArray(args[0])) {\n      return rawMany(this, ...args);\n    }\n    else if (_isPlainObject(args[0])) {\n      return rawAll(this, ...args);\n    }\n  }\n};\n\nexport default raw;","import _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport _isArray from 'lodash/isArray';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport config from '../../../core/config';\nimport setMany from '../utils/set_many';\nimport setOne from '../utils/set_one';\nimport castNested from '../utils/castNested';\n\nfunction merge(doc) {\n  const result = {};\n  _each(doc, (fieldValue, fieldName) => {\n    // If a field value is an object then we prefix each nested field name with\n    // a field name of the parent object. However, we can not do it for arrays\n    // as it's not obvious how we would like to merge arrays - concat/replace?\n    if (_isPlainObject(fieldValue) && !_isArray(fieldValue)) {\n      _each(merge(fieldValue), (nestedFieldValue, nestedFieldName) => {\n        result[`${fieldName}.${nestedFieldName}`] = nestedFieldValue;\n      });\n    }\n    else {\n      result[fieldName] = fieldValue;\n    }\n  });\n  return result;\n}\n\nfunction set(...args) {\n  const doc = this;\n\n  // Default options.\n  const options = {\n    defaults: config.defaults,\n    clone: true,\n    cast: false,\n    merge: false\n  };\n\n  // Setting single field.\n  if (typeof args[0] === 'string' && args.length >= 2) {\n    // The last argument is an options object.\n    if (_isPlainObject(args[2])) {\n      _extend(options, args[2]);\n    }\n    // Do not override values if the \"merge\" option is set and instead merge\n    // nested objects.\n    if (options.merge && _isPlainObject(args[1])) {\n      setMany(doc, merge({\n        [args[0]]: args[1]\n      }), options);\n    }\n    else {\n      setOne(doc, args[0], args[1], options);\n    }\n  }\n  // Setting multiple fields at once.\n  else if (_isPlainObject(args[0]) && args.length >= 1) {\n    // The last argument is an options object.\n    if (_isPlainObject(args[1])) {\n      _extend(options, args[1]);\n    }\n    // Do not override values if the \"merge\" option is set and instead merge\n    // nested objects.\n    if (options.merge) {\n      setMany(doc, merge(args[0]), options);\n    }\n    else {\n      setMany(doc, args[0], options);\n    }\n  }\n};\n\nexport default set;","function getField(fieldName) {\n  return this.schema.fields[fieldName];\n}\n\nexport default getField;","import _values from 'lodash/values';\n\nfunction getFields() {\n  return _values(this.schema.fields);\n};\n\nexport default getFields;","import _defaults from 'lodash/defaults';\nimport _each from 'lodash/each';\n\nfunction getFieldsNames(options = {}) {\n  // Prepare options.\n  _defaults(options, {\n    transient: true,\n    immutable: true\n  });\n\n  const fieldsNames = [];\n  _each(this.schema.fields, (field, name) => {\n    // Don't get a transient field.\n    if (!options.transient && field.transient) {\n      return;\n    }\n    // Don't get an immutable field.\n    if (!options.immutable && field.immutable) {\n      return;\n    }\n    fieldsNames.push(name);\n  });\n\n  return fieldsNames;\n};\n\nexport default getFieldsNames;","import _filter from 'lodash/filter';\n\nimport ListField from '../ListField';\n\nfunction getListFields(classOnly = false) {\n  return _filter(this.getFields(), function(field) {\n    if (classOnly) {\n      return field instanceof ListField && field.isClass;\n    }\n    return field instanceof ListField;\n  });\n};\n\nexport default getListFields;","import _filter from 'lodash/filter';\n\nimport ObjectField from '../ObjectField';\n\nfunction getObjectFields() {\n\treturn _filter(this.getFields(), function(field) {\n\t\treturn field instanceof ObjectField;\n\t});\n};\n\nexport default getObjectFields;","import _filter from 'lodash/filter';\n\nimport ScalarField from '../ScalarField';\n\nfunction getScalarFields() {\n\treturn _filter(this.getFields(), function(field) {\n\t\treturn field instanceof ScalarField;\n\t});\n};\n\nexport default getScalarFields;","import _has from 'lodash/has';\n\nfunction hasField(fieldName) {\n  return _has(this.schema.fields, fieldName);\n};\n\nexport default hasField;","import _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport Type from '../type.js';\nimport AstroClass from '../../../core/class.js';\nimport ScalarField from '../ScalarField';\nimport ObjectField from '../ObjectField';\nimport ListField from '../ListField';\n\nfunction checkTypeExistence(type, className, fieldName) {\n  if (!type) {\n    throwParseError([{\n        'class': className\n      }, {\n        'property': 'fields'\n      }, {\n        'field': fieldName\n      },\n      'Type does not exist'\n    ]);\n  }\n}\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  _each(parsedDefinition.fields, function(fieldDefinition, fieldName) {\n    // Prepare field variable.\n    let field;\n    // List field.\n    if (Match.test(fieldDefinition.type, Array)) {\n      let type = Type.find(fieldDefinition.type[0]);\n      checkTypeExistence(type, className, fieldDefinition.name);\n      if (AstroClass.isParentOf(type.class)) {\n        field = new ListField(\n          _extend({}, fieldDefinition, {\n            type: type\n          })\n        );\n      }\n      else {\n        field = new ListField(\n          _extend({}, fieldDefinition, {\n            type: type\n          })\n        );\n      }\n    }\n    // Scalar or object field.\n    else {\n      let type = Type.find(fieldDefinition.type);\n      checkTypeExistence(type, className, fieldDefinition.name);\n      if (AstroClass.isParentOf(type.class)) {\n        field = new ObjectField(\n          _extend({}, fieldDefinition, {\n            type: type\n          })\n        );\n      }\n      else {\n        field = new ScalarField(\n          _extend({}, fieldDefinition, {\n            type: type\n          })\n        );\n      }\n    }\n\n    // Add a field object to the fields list.\n    Class.schema.fields[fieldName] = field;\n    Class.schema.fieldsNames.push(fieldName);\n  });\n}\n\nexport default onApplyDefinition;","// Class static methods.\nimport getField from '../class_static_methods/get_field.js';\nimport getFieldsNames from '../class_static_methods/get_fields_names.js';\nimport getFields from '../class_static_methods/get_fields.js';\nimport getObjectFields from '../class_static_methods/get_object_fields.js';\nimport getListFields from '../class_static_methods/get_list_fields.js';\nimport getScalarFields from '../class_static_methods/get_scalar_fields.js';\nimport hasField from '../class_static_methods/has_field.js';\n// Class prototype methods.\nimport get from '../class_prototype_methods/get.js';\nimport raw from '../class_prototype_methods/raw.js';\nimport set from '../class_prototype_methods/set.js';\n// Class events.\nimport fromJSONValue from '../class_events/from_json_value.js';\nimport toJSONValue from '../class_events/to_json_value.js';\n\nfunction onInitClass(Class, className) {\n  // Class static methods.\n  Class.getField = getField;\n  Class.getFieldsNames = getFieldsNames;\n  Class.getFields = getFields;\n  Class.getObjectFields = getObjectFields;\n  Class.getListFields = getListFields;\n  Class.getScalarFields = getScalarFields;\n  Class.hasField = hasField;\n  // Class prototype methods.\n  Class.prototype.get = get;\n  Class.prototype.raw = raw;\n  Class.prototype.set = set;\n  // Class events.\n  Class.extend({\n    events: {\n      fromJSONValue,\n      toJSONValue\n    }\n  }, ['events']);\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n\tdefinition.fields = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n  schema.fields = {};\n  schema.fieldsNames = [];\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, className) {\n  _each(sourceDefinition.fields, function(fieldDefinition, fieldName) {\n    targetDefinition.fields[fieldName] = fieldDefinition;\n  });\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport _includes from 'lodash/includes';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport Class from '../../../core/class.js';\nimport Type from '../type.js';\nimport reservedKeywords from '../../../core/reserved_keywords.js';\n\nconst typePattern = Match.OneOf(Function, [Function]);\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  if (definition.fields === undefined) {\n    return;\n  }\n\n  // Fields definition has to be an object.\n  if (!Match.test(definition.fields, Object)) {\n    throwParseError([{\n        'class': className\n      }, {\n        'property': 'fields'\n      },\n      'Fields definition has to be an object'\n    ]);\n  }\n\n  _each(definition.fields, function(fieldDefinition, fieldName) {\n    if (Match.test(fieldDefinition, typePattern)) {\n      fieldDefinition = {\n        name: fieldName,\n        type: fieldDefinition\n      };\n    }\n    else if (Match.test(fieldDefinition, Object)) {\n      fieldDefinition = _extend(fieldDefinition, {\n        name: fieldName\n      });\n    }\n    else {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'fields'\n        }, {\n          'field': fieldName\n        },\n        'Field definition has to be an object or type'\n      ]);\n    }\n\n    // Check if a field name is not reserved keyword.\n    if (_includes(reservedKeywords, fieldName)) {\n      throwParseError([{\n          'class': className\n        }, {\n          'method': fieldName\n        },\n        'Reserved keyword'\n      ]);\n    }\n\n    parsedDefinition.fields[fieldDefinition.name] = fieldDefinition;\n  });\n};\n\nexport default onParseDefinition;","import _isObject from 'lodash/isObject';\nimport Type from '../type.js';\nimport Validators from '../../validators/validators.js';\n\nType.create({\n  name: 'Boolean',\n  class: Boolean,\n  cast(value) {\n    if (typeof value === 'boolean' && _isObject(value)) {\n      return value;\n    }\n    else if (typeof value === 'string') {\n      if (value === '') {\n        // The \"this\" context is a field.\n        if (this.optional) {\n          return null;\n        }\n        else {\n          return false;\n        }\n      }\n      else if (value.toLowerCase() === 'false' || value === '0') {\n        return false;\n      }\n    }\n    return Boolean(value);\n  },\n  validate(args) {\n    Validators.boolean(args);\n  }\n});","import _isNaN from 'lodash/isNaN';\nimport _isNumber from 'lodash/isNumber';\nimport Type from '../type.js';\nimport Validators from '../../validators/validators.js';\n\nType.create({\n  name: 'Date',\n  class: Date,\n  cast(value) {\n    if (_isNumber(value)) {\n      return new Date(value);\n    }\n    else if (typeof value === 'string') {\n      if (value === '') {\n        // The \"this\" context is a field.\n        if (this.optional) {\n          return null;\n        }\n      }\n      else if (/^[0-9]+$/.test(value)) {\n        return new Date(parseInt(value, 10));\n      }\n      else {\n        const time = Date.parse(value);\n        if (!_isNaN(time)) {\n          return new Date(time);\n        }\n      }\n    }\n    return value;\n  },\n  validate(args) {\n    Validators.date(args);\n  }\n});","import Type from '../type.js';\nimport Validators from '../../validators/validators.js';\nimport { Mongo } from 'meteor/mongo';\n\nType.create({\n  name: 'MongoObjectID',\n  class: Mongo.ObjectID,\n  validate(args) {\n    Validators.mongoObjectID(args);\n  }\n});","import _isNaN from 'lodash/isNaN';\nimport _isNumber from 'lodash/isNumber';\nimport _isObject from 'lodash/isObject';\nimport Type from '../type.js';\nimport Validators from '../../validators/validators.js';\n\nType.create({\n  name: 'Number',\n  class: Number,\n  cast(value) {\n    if (typeof value === 'string') {\n      if (value === '') {\n        // The \"this\" context is a field.\n        if (this.optional) {\n          return null;\n        }\n        else {\n          return 0;\n        }\n      }\n    }\n    else if (_isObject(value)) {\n      return value;\n    }\n    else if (!_isNaN(value) && _isNumber(value)) {\n      return value; \n    }\n    const number = Number(value);\n    return !_isNaN(number) ? number : value;\n  },\n  validate(args) {\n    Validators.number(args);\n  }\n});\n","import Type from '../type.js';\nimport Validators from '../../validators/validators.js';\n\nType.create({\n  name: 'Object',\n  class: Object,\n  validate(args) {\n    Validators.object(args);\n  }\n});","import _isObject from 'lodash/isObject';\nimport Type from '../type.js';\nimport Validators from '../../validators/validators.js';\n\nType.create({\n  name: 'String',\n  class: String,\n  cast(value) {\n    if (typeof value === 'string' || _isObject(value)) {\n      return value;\n    }\n    return String(value);\n  },\n  validate(args) {\n    Validators.string(args);\n  }\n});","import _each from 'lodash/each';\nimport ObjectField from '../ObjectField';\nimport ListField from '../ListField';\n\nfunction castNested(args = {}) {\n  const {\n    doc,\n    options\n  } = args;\n  const Class = doc.constructor;\n\n  _each(Class.getFields(), (field) => {\n    if (\n      (field instanceof ObjectField) ||\n      (field instanceof ListField && field.isClass)\n    ) {\n      doc[field.name] = field.castValue(doc[field.name], options);\n    }\n  });\n};\n\nexport default castNested;","import getChildClass from './getChildClass';\n\nfunction castToClass(args = {}) {\n  const {\n    Class,\n    rawDoc,\n    options\n  } = args;\n  // If the class has a type field, then we have to check if we are\n  // casting to some of the nested classes.\n  const ChildClass = getChildClass({\n    Class,\n    rawDoc\n  });\n  // Create instance of an original class or some of its childs.\n  return new ChildClass(rawDoc, options);\n}\n\nexport default castToClass;","import _defaults from 'lodash/defaults';\nimport getMany from './getMany';\n\nfunction getAll(doc, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true,\n    undefined: true\n  });\n\n  const Class = doc.constructor;\n\n  // Get list of fields and their values.\n  return getMany(doc, Class.getFieldsNames(options), options);\n};\n\nexport default getAll;","import config from '../../../core/config';\n\nfunction getChildClass(args = {}) {\n  const {\n    Class,\n    rawDoc\n  } = args;\n\n  const typeField = Class.getTypeField();\n  // If a class does not have a type field, then we just return an original\n  // class.\n  if (!typeField) {\n    return Class;\n  }\n  // If a class has a type field, then we have to check if a raw document\n  // contains information about child class type.\n  const ChildClass = Class.get(rawDoc[typeField]);\n  // Return a child class if it exists and in fact it's a child of an original\n  // class.\n  if (ChildClass && ChildClass.isChildOf(Class)) {\n    return ChildClass;\n  }\n  // Otherwise just return original class.\n  return Class;\n}\n\nexport default getChildClass;","import _defaults from 'lodash/defaults';\nimport _map from 'lodash/map';\nimport _omitBy from 'lodash/omitBy';\nimport _zipObject from 'lodash/zipObject';\nimport getOne from './getOne';\n\nfunction getMany(doc, fieldsNames, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true,\n    undefined: true\n  });\n\n  const values = _zipObject(\n    fieldsNames,\n    _map(fieldsNames, (fieldName) => {\n      return getOne(doc, fieldName, options);\n    })\n  );\n\n  if (options.undefined) {\n    return values;\n  }\n  else {\n    return _omitBy(values, (value) => value === undefined);\n  }\n};\n\nexport default getMany;","import _defaults from 'lodash/defaults';\nimport traverse from './traverse.js';\n\nfunction getOne(doc, fieldName, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true\n  });\n\n  return traverse(\n    doc, fieldName,\n    function(nestedDoc, nestedFieldName, field) {\n      // If a field does not exist than we don't return anything.\n      if (!field) {\n        return;\n      }\n\n      // Don't get a transient field.\n      if (!options.transient && field.transient) {\n        return;\n      }\n\n      // Don't get an immutable field.\n      if (!options.immutable && field.immutable) {\n        return;\n      }\n\n      // Just return value.\n      return nestedDoc[nestedFieldName];\n    }\n  );\n};\n\nexport default getOne;","function isNestedFieldName(fieldPattern) {\n  return fieldPattern.indexOf('.') !== -1;\n};\n\nexport default isNestedFieldName;","import _defaults from 'lodash/defaults';\nimport rawMany from './rawMany';\n\nfunction rawAll(doc, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true,\n    undefined: true\n  });\n\n  const Class = doc.constructor;\n\n  // Get list of fields and their values.\n  return rawMany(doc, Class.getFieldsNames(options), options);\n};\n\nexport default rawAll;","import _defaults from 'lodash/defaults';\nimport _map from 'lodash/map';\nimport _omitBy from 'lodash/omitBy';\nimport _zipObject from 'lodash/zipObject';\nimport rawOne from './rawOne';\n\nfunction rawMany(doc, fieldsNames, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true,\n    undefined: true\n  });\n\n  const values = _zipObject(\n    fieldsNames,\n    _map(fieldsNames, (fieldName) => {\n      return rawOne(doc, fieldName, options);\n    })\n  );\n\n  if (options.undefined) {\n    return values;\n  }\n  else {\n    return _omitBy(values, (value) => value === undefined);\n  }\n};\n\nexport default rawMany;","import _defaults from 'lodash/defaults';\nimport _isArray from 'lodash/isArray';\nimport _map from 'lodash/map';\nimport AstroClass from '../../../core/class.js';\nimport traverse from './traverse.js';\nimport rawAll from './rawAll';\n\nfunction rawOne(doc, fieldName, options = {}) {\n  // Prepare default options values.\n  _defaults(options, {\n    transient: true,\n    immutable: true,\n    // We still need the \"undefined\" options in the \"rawOne\" util, because we\n    // might want to get nested document that may have undefined fields.\n    undefined: true\n  });\n\n  return traverse(\n    doc, fieldName,\n    function(nestedDoc, nestedFieldName, field) {\n      // If a field does not exist than we don't return anything.\n      if (!field) {\n        return;\n      }\n\n      // Don't get a transient field.\n      if (!options.transient && field.transient) {\n        return;\n      }\n\n      // Don't get an immutable field.\n      if (!options.immutable && field.immutable) {\n        return;\n      }\n\n      // Get field's value.\n      const fieldValue = nestedDoc[nestedFieldName];\n\n      if (fieldValue instanceof AstroClass) {\n        return rawAll(fieldValue, options);\n      }\n      else if (_isArray(fieldValue)) {\n        return _map(fieldValue, function(element) {\n          if (element instanceof AstroClass) {\n            return rawAll(element, options);\n          }\n          else {\n            return element;\n          }\n        });\n      }\n      else {\n        return fieldValue;\n      }\n    }\n  );\n};\n\nexport default rawOne;","import _fromPairs from 'lodash/fromPairs';\nimport _map from 'lodash/map';\nimport config from '../../../core/config.js';\nimport getChildClass from './getChildClass';\n\nfunction resolveValues(args = {}) {\n  const {\n    Class,\n    rawDoc\n  } = args;\n\n  // We can not resolve when dealing with non object value or the \"resolving\"\n  // config param is turned off.\n  if (!rawDoc || !config.resolving) {\n    return rawDoc;\n  }\n\n  // When resolving values, we need to get resolve method for a child class\n  // if a given document is actually an instance of child class.\n  const ChildClass = getChildClass({\n    Class,\n    rawDoc\n  });\n\n  // Construct resolved document from key-value pairs.\n  return _fromPairs(\n    _map(ChildClass.getFields(), (field) => {\n      return [\n        field.name,\n        field.resolveValue(rawDoc)\n      ];\n    })\n  );\n}\n\nexport default resolveValues;","import _difference from 'lodash/difference';\nimport _each from 'lodash/each';\nimport _forOwn from 'lodash/forOwn';\nimport _keys from 'lodash/keys';\nimport setOne from './set_one.js';\n\nfunction setAll(doc, fieldsValues, options) {\n  const Class = doc.constructor;\n\n  // Get names of the fields that are not present in the fieldsValues variable.\n  const fieldsNames = _difference(Class.getFieldsNames(), _keys(fieldsValues));\n\n  _each(fieldsNames, (fieldName) => {\n    setOne(doc, fieldName, undefined, options);\n  });\n\n  _forOwn(fieldsValues, (fieldValue, fieldName) => {\n    setOne(doc, fieldName, fieldValue, options);\n  });\n};\n\nexport default setAll;","import _forOwn from 'lodash/forOwn';\nimport setOne from './set_one.js';\n\nfunction setMany(doc, fieldsValues, options) {\n  // Set multiple fields.\n  _forOwn(fieldsValues, (setValue, fieldName) => {\n    setOne(doc, fieldName, setValue, options);\n  });\n};\n\nexport default setMany;","import _isObject from 'lodash/isObject';\nimport { EJSON } from 'meteor/ejson';\nimport traverse from '../utils/traverse';\nimport warn from '../../core/utils/warn';\nimport ObjectField from '../ObjectField';\nimport ListField from '../ListField';\n\nfunction setOne(doc, fieldPattern, fieldValue, options) {\n  // If the \"clone\" option was set and the value being set is an object,\n  // then we clone value using the \"EJSON.clone\" function.\n  if (options.clone && _isObject(fieldValue)) {\n    fieldValue = EJSON.clone(fieldValue);\n  }\n\n  return traverse(\n    doc, fieldPattern,\n    (nestedDoc, nestedFieldName, field) => {\n      // If a field does not exist than we don't return anything.\n      if (!field) {\n        const Class = doc.constructor;\n        const className = Class.getName();\n        warn(\n          `[\"${className}\" class][\"${fieldPattern}\" field] ` +\n          'Trying to set a value of the field that does not exist in the class'\n        );\n        return;\n      }\n\n      // Cast value if the \"cast\" option was set or if a field is instance of\n      // ObjectField or ListField.\n      if (\n        (options.cast) ||\n        (field instanceof ObjectField) ||\n        (field instanceof ListField && field.isClass)\n      ) {\n        // If the \"cast\" option is set and we're casting array's element.\n        if (\n          (options.cast) &&\n          (field instanceof ListField) &&\n          (/\\d+/.test(nestedFieldName))\n        ) {\n          options.element = true;\n        }\n        fieldValue = field.castValue(fieldValue, options);\n      }\n\n      // Set default value if the \"defualts\" option was set.\n      if (fieldValue === undefined && options.defaults) {\n        fieldValue = field.getDefault(nestedDoc);\n      }\n\n      // Finally set casted/cloned/untouched value.\n      nestedDoc[nestedFieldName] = fieldValue;\n    }\n  );\n}\n\nexport default setOne;","import _isObject from 'lodash/isObject';\nimport isNestedFieldName from './isNestedFieldName';\nimport AstroClass from '../../../core/class';\n\nfunction traverse(doc, name, callback) {\n  if (!doc) {\n    return;\n  }\n\n  let Class;\n  let field;\n\n  // Check whether the given field name is a nested field name.\n  if (!isNestedFieldName(name)) {\n    // Get a class.\n    let Class = doc.constructor;\n    // Get a field definition.\n    let field = Class.getField(name);\n    // Execute the callback function passing the last nested document, the last\n    // segment name and a field object.\n    return callback(doc, name, field);\n  }\n\n  // Split the nested field pattern name by the \".\" character.\n  let segments = name.split('.');\n  // Get the last and one before the last index.\n  let lastIndex = segments.length - 1;\n\n  // Traverse nested fields until reaching the last one from the pattern.\n  let next = function(nestedDoc, segmentIndex) {\n    segmentIndex = segmentIndex || 0;\n    // Get a nested field name under the given index.\n    let segment = segments[segmentIndex];\n    // Check if a nested document is an instance of the Astronomy class and get\n    // a field object for a given field name;\n    if (nestedDoc instanceof AstroClass) {\n      // Get a class for of a nested document.\n      Class = nestedDoc.constructor;\n      // Get a field object from the nested class.\n      field = Class.getField(segment);\n    }\n    if (segmentIndex === lastIndex) {\n      // Execute the callback function, if we reached the last nested document.\n      return callback(nestedDoc, segment, field);\n    }\n    else if (_isObject(nestedDoc[segment])) {\n      // Go deeper if a value of the current nested document is an object.\n      return next(nestedDoc[segment], segmentIndex + 1);\n    }\n  };\n\n  // Start traversing nested fields.\n  return next(doc);\n};\n\nexport default traverse;","import Module from '../../core/module.js';\n// Hooks.\nimport onInitSchema from './hooks/onInitSchema.js';\nimport onInitDefinition from './hooks/onInitDefinition.js';\nimport onParseDefinition from './hooks/onParseDefinition.js';\nimport onMergeDefinitions from './hooks/onMergeDefinitions.js';\nimport onApplyDefinition from './hooks/onApplyDefinition.js';\nimport onInitClass from './hooks/onInitClass.js';\n\nModule.create({\n  name: 'methods',\n  aliases: ['helpers'],\n  onInitSchema: onInitSchema,\n  onInitDefinition: onInitDefinition,\n  onParseDefinition: onParseDefinition,\n  onMergeDefinitions: onMergeDefinitions,\n  onApplyDefinition: onApplyDefinition,\n  onInitClass: onInitClass\n});","function getHelper(helperName) {\n  return this.schema.helpers[helperName];\n};\n\nexport default getHelper;","function getHelpers() {\n  return this.schema.helpers;\n};\n\nexport default getHelpers;","import _has from 'lodash/has';\n\nfunction hasHelper(helperName) {\n  return _has(this.schema.helpers, helperName);\n};\n\nexport default hasHelper;","import _each from 'lodash/each';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  let schema = Class.schema;\n\n  // Add helpers to the class.\n  _each(parsedDefinition.helpers, (helper, helperName) => {\n    schema.helpers[helperName] = helper;\n    Class.prototype[helperName] = helper;\n  });\n};\n\nexport default onApplyDefinition;","import deprecated from '../../core/utils/deprecated';\n// Class static helpers.\nimport getHelper from '../class_static_methods/getHelper.js';\nimport getHelpers from '../class_static_methods/getHelpers.js';\nimport hasHelper from '../class_static_methods/hasHelper.js';\n\nfunction onInitClass(Class, className) {\n  Class.getHelper = getHelper;\n  Class.getHelpers = getHelpers;\n  Class.hasHelper = hasHelper;\n  // Class static helpers.\n  Class.getMethod = function(...args) {\n    deprecated(\n      `Methods have been renamed to helpers. Please use the ` +\n      `\"${className}.getHelper\" function.`\n    );\n    return this.getHelper.apply(this, args);\n  };\n  Class.getMethods = function(...args) {\n    deprecated(\n      `Methods have been renamed to helpers. Please use the ` +\n      `\"${className}.getHelpers\" function.`\n    );\n    return this.getHelpers.apply(this, args);\n  };\n  Class.hasMethod = function(...args) {\n    deprecated(\n      `Methods have been renamed to helpers. Please use the ` +\n      `\"${className}.hasHelper\" function.`\n    );\n    return this.hasHelper.apply(this, args);\n  };\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n  definition.helpers = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n  schema.helpers = {};\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, ClassName) {\n  _each(sourceDefinition.helpers, function(helper, helperName) {\n    targetDefinition.helpers[helperName] = helper;\n  });\n};\n\nexport default onMergeDefinitions;","import _has from 'lodash/has';\nimport _each from 'lodash/each';\nimport _includes from 'lodash/includes';\nimport deprecated from '../../core/utils/deprecated';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport reservedKeywords from '../../../core/reserved_keywords.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  if (definition.methods) {\n    definition.helpers = definition.helpers || {};\n    deprecated(\n      `Methods have been renamed to helpers. Please use the \"helpers\" ` +\n      `section in the \"${className}\" class definition.`\n    );\n    _each(definition.methods, (method, methodName) => {\n      if (_has(definition.helpers, methodName)) {\n        deprecated(\n          `Methods have been renamed to helpers. Please move the ` +\n          `\"${methodName}\" method to the \"helpers\" section in the ` +\n          `\"${className}\" class definition.`\n        );\n      }\n      else {\n        definition.helpers[methodName] = method;\n      }\n    });\n  }\n  // Check existence and validity of the \"helpers\" property.\n  if (definition.helpers !== undefined) {\n    if (!Match.test(definition.helpers, Object)) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'helpers'\n        },\n        'Helpers definition has to be an object'\n      ]);\n    }\n\n    _each(definition.helpers, (helper, helperName) => {\n      if (!Match.test(helper, Function)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'helper': helperName\n          },\n          'Helper has to be a function'\n        ]);\n      }\n\n      if (_includes(reservedKeywords, helperName)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'helper': helperName\n          },\n          'Reserved keyword'\n        ]);\n      }\n      parsedDefinition.helpers[helperName] = helper;\n    });\n  }\n};\n\nexport default onParseDefinition;","import Module from '../../core/module.js';\n// Hooks.\nimport onInitSchema from './hooks/init_schema.js';\nimport onInitDefinition from './hooks/init_definition.js';\nimport onParseDefinition from './hooks/parse_definition.js';\nimport onMergeDefinitions from './hooks/merge_definitions.js';\nimport onApplyDefinition from './hooks/apply_definition.js';\nimport onInitClass from './hooks/init_class.js';\n\nModule.create({\n\tname: 'indexes',\n\tonInitSchema: onInitSchema,\n\tonInitDefinition: onInitDefinition,\n\tonParseDefinition: onParseDefinition,\n\tonMergeDefinitions: onMergeDefinitions,\n\tonApplyDefinition: onApplyDefinition,\n\tonInitClass: onInitClass\n});","function getIndex(indexName) {\n\treturn this.schema.indexes[indexName];\n};\n\nexport default getIndex;","function getIndexes() {\n\treturn this.schema.indexes;\n};\n\nexport default getIndexes;","import _has from 'lodash/has';\n\nfunction hasIndex(indexName) {\n\treturn _has(this.schema.indexes, indexName);\n};\n\nexport default hasIndex;","import _concat from 'lodash/concat';\nimport _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport _includes from 'lodash/includes';\nimport _mapKeys from 'lodash/mapKeys';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  const Collection = Class.getCollection();\n\n  if (\n    !Meteor.isServer ||\n    !Collection ||\n    (Collection && !Collection._connection)\n  ) {\n    return;\n  }\n\n  const schema = Class.schema;\n\n  function prefixIndexes(indexes, fieldName) {\n    // Prefix the fields property.\n    _each(indexes, (index, indexName) => {\n      index.fields = _mapKeys(index.fields, (value, key) => {\n        return `${fieldName}.${key}`;\n      });\n      _extend(index.options, {\n        name: `${fieldName}.${indexName}`\n      });\n    });\n    // Prefix object keys.\n    indexes = _mapKeys(indexes, (index, indexName) => {\n      return `${fieldName}.${indexName}`;\n    });\n    return indexes;\n  }\n\n  // Add indexes to the collection from nested classes.\n  const checkedClasses = [];\n  function collectNestedIndexes(Class) {\n    // Stop checking if a given class was already checked.\n    if (_includes(checkedClasses, Class)) {\n      return;\n    }\n    checkedClasses.push(Class);\n    const indexes = {};\n    const fields = _concat(\n      Class.getObjectFields(), Class.getListFields(true)\n    );\n    _each(fields, (field) => {\n      _extend(\n        indexes,\n        prefixIndexes(field.type.class.definition.indexes, field.name),\n        prefixIndexes(collectNestedIndexes(field.type.class), field.name)\n      );\n    });\n    return indexes;\n  }\n\n  const indexes = _extend(\n    {},\n    parsedDefinition.indexes,\n    collectNestedIndexes(Class)\n  );\n\n  _each(indexes, (index, indexName) => {\n    schema.indexes[indexName] = index;\n    Collection._ensureIndex(index.fields, index.options);\n  });\n};\n\nexport default onApplyDefinition;","// Class static methods.\nimport getIndex from '../class_static_methods/get_index.js';\nimport getIndexes from '../class_static_methods/get_indexes.js';\nimport hasIndex from '../class_static_methods/has_index.js';\n\nfunction onInitClass(Class, className) {\n\t// Class static methods.\n\tClass.getIndex = getIndex;\n\tClass.getIndexes = getIndexes;\n\tClass.hasIndex = hasIndex;\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n\tdefinition.indexes = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n\tschema.indexes = {};\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, ClassName) {\n  _each(sourceDefinition.indexes, function(index, indexName) {\n    targetDefinition.indexes[indexName] = index;\n  });\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\n\nconst fieldDefinitionPattern = Match.ObjectIncluding({\n  index: Match.OneOf(1, -1, String)\n});\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  // Check existence and validity of the \"indexes\" property.\n  if (definition.indexes !== undefined) {\n    _each(definition.indexes, (index, indexName) => {\n      if (!Match.test(index, Object)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'index': indexName\n          },\n          'Indexes definition has to be an object'\n        ]);\n      }\n      index = {\n        fields: index.fields,\n        options: index.options || {}\n      };\n      index.options.name = index.options.name || indexName;\n      parsedDefinition.indexes[indexName] = index;\n    });\n  }\n\n  if (definition.fields !== undefined) {\n    _each(definition.fields, (fieldDefinition, fieldName) => {\n      // Stop if a field definition does not contain index information.\n      if (!Match.test(fieldDefinition, fieldDefinitionPattern)) {\n        return;\n      }\n      // Prepare an index definition.\n      let indexDefinition = {\n        fields: {},\n        options: {\n          name: fieldName\n        }\n      };\n      indexDefinition.fields[fieldName] = fieldDefinition.index;\n      parsedDefinition.indexes[fieldName] = indexDefinition;\n    });\n  }\n};\n\nexport default onParseDefinition;","import Module from '../../core/module.js';\n// Hooks.\nimport onInitSchema from './hooks/onInitSchema.js';\nimport onInitDefinition from './hooks/onInitDefinition.js';\nimport onParseDefinition from './hooks/onParseDefinition.js';\nimport onMergeDefinitions from './hooks/onMergeDefinitions.js';\nimport onApplyDefinition from './hooks/onApplyDefinition.js';\nimport onInitClass from './hooks/onInitClass.js';\nimport onFinalizeClass from './hooks/onFinalizeClass.js';\n\nModule.create({\n  name: 'meteorMethods',\n  onInitSchema,\n  onInitDefinition,\n  onParseDefinition,\n  onMergeDefinitions,\n  onApplyDefinition,\n  onInitClass,\n  onFinalizeClass\n});","import callMeteorMethod from \"../../storage/utils/call_meteor_method\";\nimport rawAll from \"../../fields/utils/rawAll\";\n\nfunction applyMethod(methodName, methodArgs, callback) {\n  const doc = this;\n  const Class = doc.constructor;\n\n  // Prepare arguments to be sent to the \"/Astronomy/execute\" method.\n  const meteorMethodArgs = {\n    className: Class.getName(),\n    methodName,\n    methodArgs,\n    rawDoc: rawAll(doc, {\n      transient: false\n    })\n  };\n\n  try {\n    return callMeteorMethod(\n      Class,\n      \"/Astronomy/execute\",\n      [meteorMethodArgs],\n      callback\n    );\n  } catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default applyMethod;\n","import _last from 'lodash/last';\nimport applyMethod from './applyMethod';\n\nfunction callMethod(methodName, ...methodArgs) {\n  // Get the last argument.\n  let callback = _last(methodArgs);\n  // If the last argument is a callback function, then remove the last\n  // argument.\n  if (typeof callback === 'function') {\n    methodArgs.pop();\n  }\n  // If the last argument is not a callback function, then clear the\n  // \"callback\" variable.\n  else {\n    callback = undefined;\n  }\n  return applyMethod.call(this, methodName, methodArgs, callback);\n};\n\nexport default callMethod;","function getMethod(methodName) {\n\treturn this.schema.methods[methodName];\n};\n\nexport default getMethod;","function getMethods() {\n\treturn this.schema.methods;\n};\n\nexport default getMethods;","import _has from 'lodash/has';\n\nfunction hasMethod(methodName) {\n  return _has(this.schema.methods, methodName);\n};\n\nexport default hasMethod;","import _each from 'lodash/each';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  const schema = Class.schema;\n\n  // Add Meteor methods to the class schema.\n  _each(parsedDefinition.meteorMethods, (method, methodName) => {\n    schema.methods[methodName] = method;\n  });\n};\n\nexport default onApplyDefinition;","import _zipObject from \"lodash/zipObject\";\nimport _each from \"lodash/each\";\nimport wrapMethod from \"../utils/wrapMethod\";\nimport hasMeteorMethod from \"../../storage/utils/has_meteor_method\";\nimport astronomyExecute from \"../meteor_methods/astronomyExecute\";\nimport applyMethod from \"../class_prototype_methods/applyMethod\";\nimport callMethod from \"../class_prototype_methods/callMethod\";\n\nfunction onFinalizeClass(Class, className) {\n  const schema = Class.schema;\n\n  if (schema.collection) {\n    const Collection = schema.collection;\n    const connection =\n      Collection._connection || Meteor.connection || Meteor.server;\n    if (connection) {\n      if (!hasMeteorMethod(connection, \"/Astronomy/execute\")) {\n        // Add Meteor method.\n        connection.methods({\n          \"/Astronomy/execute\": astronomyExecute\n        });\n      }\n    }\n\n    // Add Meteor methods to the class.\n    _each(schema.methods, (method, methodName) => {\n      Class.prototype[methodName] = wrapMethod(methodName);\n    });\n\n    // Add universal \"applyMethod\" and \"callMethod\" methods that can invoke any\n    // method even if only defined on the server.\n    Class.prototype.applyMethod = applyMethod;\n    Class.prototype.callMethod = callMethod;\n  }\n}\n\nexport default onFinalizeClass;\n","// Class static methods.\nimport getMeteorMethod from '../class_static_methods/getMeteorMethod.js';\nimport getMeteorMethods from '../class_static_methods/getMeteorMethods.js';\nimport hasMeteorMethod from '../class_static_methods/hasMeteorMethod.js';\n\nfunction onInitClass(Class, className) {\n  // Class static methods.\n  Class.getMeteorMethod = getMeteorMethod;\n  Class.getMeteorMethods = getMeteorMethods;\n  Class.hasMeteorMethod = hasMeteorMethod;\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n  definition.meteorMethods = {};\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n  schema.methods = {};\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, className) {\n  _each(sourceDefinition.meteorMethods, function(method, methodName) {\n    targetDefinition.meteorMethods[methodName] = method;\n  });\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport _includes from 'lodash/includes';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport reservedKeywords from '../../../core/reserved_keywords.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  // Check existence and validity of the \"meteorMethods\" property.\n  if (definition.meteorMethods !== undefined) {\n    if (!Match.test(definition.meteorMethods, Object)) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'meteorMethods'\n        },\n        'meteorMethods definition has to be an object'\n      ]);\n    }\n\n    _each(definition.meteorMethods, function(meteorMethod, meteorMethodName) {\n      if (!Match.test(meteorMethod, Function)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'meteorMethod': meteorMethodName\n          },\n          'Meteor method has to be a function'\n        ]);\n      }\n\n      if (_includes(reservedKeywords, meteorMethodName)) {\n        throwParseError([{\n            'class': className\n          }, {\n            'meteorMethod': meteorMethodName\n          },\n          'Reserved keyword'\n        ]);\n      }\n      parsedDefinition.meteorMethods[meteorMethodName] = meteorMethod;\n    });\n  }\n};\n\nexport default onParseDefinition;","import AstroClass from '../../../core/class';\n\nfunction astronomyExecute(args = {}) {\n  check(args, Match.Any);\n\n  const {\n    className,\n    rawDoc,\n    methodName,\n    methodArgs\n  } = args;\n\n  const Class = AstroClass.get(className);\n  let doc;\n  if (rawDoc._id) {\n    doc = Class.findOne(rawDoc._id);\n  }\n  if (doc) {\n    doc.set(rawDoc);\n  }\n  else {\n    doc = new Class(rawDoc, {\n      clone: false\n    });\n  }\n\n  // Get a method from the class. In some cases method may not be present,\n  // because it might be defined only on the server.\n  const method = Class.getMeteorMethod(methodName);\n  if (!method) {\n    return;\n  }\n\n  return method.apply(doc, methodArgs);\n};\n\nexport default astronomyExecute;","import _last from \"lodash/last\";\nimport callMeteorMethod from \"../../storage/utils/call_meteor_method\";\nimport rawAll from \"../../fields/utils/rawAll\";\n\nfunction wrapMethod(methodName) {\n  return function(...methodArgs) {\n    const doc = this;\n    const Class = doc.constructor;\n\n    // Get the last argument.\n    let callback = _last(methodArgs);\n    // If the last argument is a callback function, then remove the last\n    // argument.\n    if (typeof callback === \"function\") {\n      methodArgs.pop();\n    } else {\n      // If the last argument is not a callback function, then clear the\n      // \"callback\" variable.\n      callback = undefined;\n    }\n    // Call the \"/Astronomy/execute\" method.\n    return doc.applyMethod(methodName, methodArgs, callback);\n  };\n}\n\nexport default wrapMethod;\n","import Module from \"../../core/module.js\";\n// Utils.\nimport applyModifier from \"./utils/apply_modifier.js\";\nimport callMeteorMethod from \"./utils/call_meteor_method.js\";\nimport classInsert from \"./utils/class_insert.js\";\nimport classUpdate from \"./utils/class_update.js\";\nimport classRemove from \"./utils/class_remove.js\";\nimport documentInsert from \"./utils/document_insert.js\";\nimport documentUpdate from \"./utils/document_update.js\";\nimport documentRemove from \"./utils/document_remove.js\";\nimport getModified from \"./utils/getModified\";\nimport getModifier from \"./utils/getModifier\";\nimport hasMeteorMethod from \"./utils/has_meteor_method.js\";\nimport isModified from \"./utils/isModified\";\nimport isRemote from \"./utils/is_remote.js\";\nimport omitUndefined from \"./utils/omit_undefined.js\";\nimport throwIfSelectorIsNotId from \"./utils/throw_if_selector_is_not_id.js\";\nimport transformToClass from \"./utils/transformToClass\";\nimport triggerBeforeSave from \"./utils/trigger_before_save.js\";\nimport triggerBeforeInsert from \"./utils/trigger_before_insert.js\";\nimport triggerBeforeUpdate from \"./utils/trigger_before_update.js\";\nimport triggerBeforeRemove from \"./utils/trigger_before_remove.js\";\nimport triggerAfterSave from \"./utils/trigger_after_save.js\";\nimport triggerAfterInsert from \"./utils/trigger_after_insert.js\";\nimport triggerAfterUpdate from \"./utils/trigger_after_update.js\";\nimport triggerAfterRemove from \"./utils/trigger_after_remove.js\";\nimport wrapTransform from \"./utils/wrapTransform.js\";\n// Hooks.\nimport onInitSchema from \"./hooks/init_schema.js\";\nimport onInitDefinition from \"./hooks/init_definition.js\";\nimport onParseDefinition from \"./hooks/parse_definition.js\";\nimport onMergeDefinitions from \"./hooks/merge_definitions.js\";\nimport onApplyDefinition from \"./hooks/apply_definition.js\";\nimport onInitClass from \"./hooks/init_class.js\";\n\nModule.create({\n  name: \"storage\",\n  onInitSchema: onInitSchema,\n  onInitDefinition: onInitDefinition,\n  onParseDefinition: onParseDefinition,\n  onMergeDefinitions: onMergeDefinitions,\n  onApplyDefinition: onApplyDefinition,\n  onInitClass: onInitClass,\n  utils: {\n    applyModifier,\n    callMeteorMethod,\n    classInsert,\n    classUpdate,\n    classRemove,\n    documentInsert,\n    documentUpdate,\n    documentRemove,\n    getModified,\n    getModifier,\n    hasMeteorMethod,\n    isModified,\n    isRemote,\n    omitUndefined,\n    throwIfSelectorIsNotId,\n    transformToClass,\n    triggerBeforeSave,\n    triggerBeforeInsert,\n    triggerBeforeUpdate,\n    triggerBeforeRemove,\n    triggerAfterSave,\n    triggerAfterInsert,\n    triggerAfterUpdate,\n    triggerAfterRemove,\n    wrapTransform\n  }\n});\n","function fromJSONValue(e) {\n  const doc = e.currentTarget;\n  doc._isNew = e.json.isNew;\n};\n\nexport default fromJSONValue;","function toJSONValue(e) {\n  const doc = e.currentTarget;\n  e.json.isNew = doc._isNew;\n};\n\nexport default toJSONValue;","function copy(save) {\n  const doc = this;\n  save = save || false;\n\n  // Use EJSON to clone object.\n  const copy = EJSON.clone(doc);\n\n  // Clear the \"_id\" field so when saving it will store it as a new document\n  // instead of updating the old one.\n  copy._id = null;\n  copy._isNew = true;\n\n  if (save) {\n    copy.save();\n  }\n\n  return copy;\n};\n\nexport default copy;","import utilGetModified from '../utils/getModified';\n\nfunction getModified() {\n  let doc = this;\n\n  return utilGetModified({\n    doc,\n    transient: true\n  });\n};\n\nexport default getModified;","import _each from 'lodash/each';\nimport utilGetModified from '../utils/getModified';\nimport rawOne from '../../fields/utils/rawOne';\n\nfunction getModifiedValues(options = {}) {\n  let {\n    old = false,\n    raw = false\n  } = options;\n\n  let doc = this;\n  const Class = doc.constructor;\n\n  // Get list of modified fields.\n  const modified = utilGetModified({\n    doc,\n    transient: true\n  });\n\n  // Get old or new values of a document.\n  if (old) {\n    doc = Class.findOne(doc._id);\n    if (!doc) {\n      doc = new Class();\n    }\n  }\n\n  // Collect values for each field.\n  const values = {};\n  _each(modified, (name) => {\n    if (raw) {\n      values[name] = rawOne(doc, name);\n    }\n    else {\n      values[name] = doc.get(name);\n    }\n  });\n\n  return values;\n};\n\nexport default getModifiedValues;","import utilGetModifier from '../utils/getModifier';\n\nfunction getModifier() {\n  let doc = this;\n\n  return utilGetModifier({\n    doc\n  });\n};\n\nexport default getModifier;","import utilIsModified from '../utils/isModified';\n\nfunction isModified(pattern) {\n\tlet doc = this;\n\n\treturn utilIsModified({\n\t\tdoc,\n\t\tpattern,\n\t\ttransient: true\n\t});\n};\n\nexport default isModified;","import castNested from '../../fields/utils/castNested';\nimport resolveValues from '../../fields/utils/resolveValues';\nimport Event from '../../events/event';\n\nfunction reload() {\n  const doc = this;\n  const Class = doc.constructor;\n\n  // The document has to be already saved in the collection.\n  // Get a document from the collection without transformation.\n  const rawDoc = Class.findOne(doc._id, {\n    transform: null\n  });\n  if (rawDoc) {\n    // Trigger the \"beforeInit\" event handlers.\n    doc.dispatchEvent(new Event('beforeInit'));\n\n    // Set all fields.\n    doc.set(resolveValues({\n      Class,\n      rawDoc\n    }));\n\n    // Trigger the \"afterInit\" event handlers.\n    doc.dispatchEvent(new Event('afterInit'));\n  }\n};\n\nexport default reload;","import documentRemove from '../utils/document_remove.js';\nimport isRemote from '../utils/is_remote.js';\nimport callMeteorMethod from '../utils/call_meteor_method.js';\n\nfunction remove(args = {}, callback) {\n  let doc = this;\n  let Class = doc.constructor;\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(args, Function)) {\n    callback = args;\n    args = {};\n  }\n  // Get variables from the first argument.\n  let {\n    simulation = true\n  } = args;\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    let methodName = '/Astronomy/remove';\n    // Prepare arguments for the meteor method.\n    let methodArgs = {\n      className: Class.getName(),\n      selector: {\n        _id: doc._id\n      },\n      simulation\n    };\n\n    try {\n      // Run meteor method.\n      let result = callMeteorMethod(\n        Class, methodName, [methodArgs], callback\n      );\n      // Change the \"_isNew\" flag to \"true\". After removing a document can be\n      // saved again as a new one.\n      doc._isNew = true;\n      // Return result of the meteor method call.\n      return result;\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Prepare arguments.\n    let methodArgs = {\n      doc,\n      simulation,\n      trusted: true\n    };\n    let result = documentRemove(methodArgs);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default remove;","import _defaults from 'lodash/defaults';\nimport _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport _omit from 'lodash/omit';\nimport { DDP } from 'meteor/ddp';\nimport documentInsert from '../utils/document_insert';\nimport documentUpdate from '../utils/document_update';\nimport isRemote from '../utils/is_remote';\nimport callMeteorMethod from '../utils/call_meteor_method';\nimport rawAll from '../../fields/utils/rawAll';\nimport castNested from '../../fields/utils/castNested';\nimport getModifier from '../../storage/utils/getModifier';\n\nfunction save(options = {}, callback) {\n  const doc = this;\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(options, Function)) {\n    callback = options;\n    options = {};\n  }\n\n  // Set default options.\n  _defaults(options, {\n    stopOnFirstError: true,\n    simulation: true,\n    forceUpdate: false\n  });\n\n  // Cast all fields.\n  if (options.cast) {\n    _each(Class.getFields(), (field) => {\n      doc[field.name] = field.castValue(doc[field.name], {\n        clone: false,\n        cast: true\n      });\n    });\n  }\n  // Cast only nested fields.\n  else {\n    castNested({\n      doc,\n      options: {\n        clone: false\n      }\n    });\n  }\n\n  // Detect which operation we are executing.\n  const inserting = doc._isNew;\n\n  // Generate ID if not provided.\n  if (inserting && !doc._id) {\n    let generateId = true;\n    // Don't generate the id if we're the client and the 'outermost' call.\n    // This optimization saves us passing both the randomSeed and the id.\n    // Passing both is redundant.\n    if (Collection._isRemoteCollection()) {\n      const enclosing = DDP._CurrentInvocation.get();\n      if (!enclosing) {\n        generateId = false;\n      }\n    }\n    if (generateId) {\n      doc._id = Collection._makeNewID();\n    }\n  }\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    const methodName = '/Astronomy/' + (inserting ? 'insert' : 'update');\n    // Prepare arguments for meteor method.\n    const methodArgs = {\n      className: Class.getName(),\n      stopOnFirstError: options.stopOnFirstError,\n      simulation: options.simulation,\n    };\n    // Inserting.\n    if (inserting) {\n      _extend(methodArgs, {\n        rawDoc: rawAll(doc, {\n          transient: false\n        })\n      });\n    }\n    // Updating.\n    else {\n      // If the \"forceUpdate\" option was set then we don't run the \"getModifier\"\n      // function to get modifier and instead we just take entire raw object and\n      // remove the \"_id\" field as we can't update it.\n      const modifier = options.forceUpdate ? _omit(doc.raw(), ['_id']) : getModifier({doc});\n      _extend(methodArgs, {\n        selector: {\n          _id: doc._id\n        },\n        modifier,\n        options: {},\n        fields: options.fields\n      });\n    }\n\n    try {\n      // Run Meteor method.\n      const result = callMeteorMethod(\n        Class, methodName, [methodArgs], callback\n      );\n      if (result && inserting) {\n        // In the insert operation the value return from the meteor method is\n        // a document ID.\n        doc._id = result;\n      }\n      // Document is not new anymore.\n      doc._isNew = false;\n      return result;\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just insert a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Prepare arguments.\n    let methodArgs = {\n      doc,\n      stopOnFirstError: options.stopOnFirstError,\n      simulation: options.simulation,\n      trusted: true\n    };\n    if (inserting) {\n      let result = documentInsert(methodArgs);\n      if (callback) {\n        callback(undefined, result);\n      }\n      return result;\n    }\n    else {\n      methodArgs.fields = options.fields;\n      let result = documentUpdate(methodArgs);\n      if (callback) {\n        callback(undefined, result);\n      }\n      return result;\n    }\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default save;","import _defaults from 'lodash/defaults';\nimport _has from 'lodash/has';\nimport _isNull from 'lodash/isNull';\nimport _map from 'lodash/map';\nimport config from '../../../core/config';\nimport wrapTransform from '../utils/wrapTransform';\nimport transformToClass from '../utils/transformToClass';\nimport Event from '../../events/event';\nimport { Mongo } from 'meteor/mongo';\n\nfunction createMethod(methodName) {\n  return function(selector, options) {\n    let Class = this;\n    let Collection = Class.getCollection();\n\n    // Get selector from arguments.\n    if (arguments.length === 0) {\n      selector = {};\n    }\n    else {\n      selector = arguments[0];\n    }\n    // If selector is null then just proceed to collection's find method.\n    if (_isNull(selector)) {\n      return Collection[methodName](selector, options);\n    }\n    // Rewrite selector to make it an object.\n    selector = Mongo.Collection._rewriteSelector(selector);\n\n    // Set default options.\n    options = _defaults({}, options, {\n      defaults: config.defaults,\n      children: true,\n      // We don't want to clone raw object in the \"find\" method.\n      clone: false\n    });\n\n    // Modify selector and options using the \"beforeFind\" event handlers.\n    if (!options.disableEvents) {\n      Class.dispatchEvent(new Event('beforeFind', {\n        selector,\n        options\n      }));\n    }\n\n    const typeField = Class.getTypeField();\n    if (\n      // If it's an inherited class, then get only documents being instances of\n      // the subclass...\n      typeField &&\n      // ... however do not override a type property in selector when\n      // developer provided it and wants to deal with it by him/herself.\n      !_has(selector, typeField)\n    ) {\n      // If a class has child classes then we have to fetch document being\n      // instances of the parent and child classes depending on a value of\n      // the \"children\" option.\n      const children = Class.getChildren(options.children);\n      if (options.children && children.length > 0) {\n        children.push(Class);\n        selector[typeField] = {\n          $in: _map(children, (Child) => Child.getName())\n        };\n      }\n      else {\n        selector[typeField] = Class.getName();\n      }\n    }\n\n    const classTransform = Class.getTransform();\n    if (options.transform !== null && classTransform !== null) {\n      // Wrap the transform function with the \"wrapTransform\" function, which\n      // resolves values.\n      options.transform = wrapTransform({\n        Class,\n        // First, try getting the transform function passed to the \"find\"\n        // method. Later, check if the transform function is defined in the\n        // class definition. If none of them contains a transform function, then\n        // get the default one.\n        transform: options.transform || classTransform || transformToClass({\n          Class,\n          options\n        })\n      });\n    }\n\n    // Execute the original method.\n    let result = Collection[methodName](selector, options);\n\n    // Modify a query result using the \"afterFind\" event handlers.\n    if (!options.disableEvents) {\n      Class.dispatchEvent(new Event('afterFind', {\n        selector,\n        options,\n        result\n      }));\n    }\n\n    return result;\n  };\n}\n\nconst find = createMethod('find');\nconst findOne = createMethod('findOne');\n\nexport { find, findOne };","function getCollection() {\n\treturn this.schema.collection;\n};\n\nexport default getCollection;","import Class from '../../../core/class';\n\nfunction getTransform() {\n  return this.schema.transform;\n}\n\nexport default getTransform;","function getTypeField() {\n\treturn this.schema.typeField;\n};\n\nexport default getTypeField;","import isRemote from '../utils/is_remote.js';\nimport callMeteorMethod from '../utils/call_meteor_method.js';\nimport classInsert from '../utils/class_insert.js';\n\nfunction insert(rawDoc, callback) {\n  const Class = this;\n  const Collection = Class.getCollection();\n\n  // Prepare arguments.\n  const args = {\n    className: Class.getName(),\n    rawDoc\n  };\n\n  // Generate ID if not provided.\n  if (!rawDoc._id) {\n    let generateId = true;\n    // Don't generate the id if we're the client and the 'outermost' call.\n    // This optimization saves us passing both the randomSeed and the id.\n    // Passing both is redundant.\n    if (Collection._isRemoteCollection()) {\n      const enclosing = DDP._CurrentInvocation.get();\n      if (!enclosing) {\n        generateId = false;\n      }\n    }\n    if (generateId) {\n      rawDoc._id = Collection._makeNewID();\n    }\n  }\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    const methodName = '/Astronomy/insert';\n\n    try {\n      // Run Meteor method.\n      return callMeteorMethod(\n        Class, methodName, [args], callback\n      );\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just insert a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Set the \"trusted\" argument to true.\n    args.trusted = true;\n    // Insert a document.\n    let result = classInsert(args);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default insert;","import _has from 'lodash/has';\n\nfunction isSecured(operation) {\n  if (_has(this.schema.secured, operation)) {\n    return this.schema.secured[operation];\n  }\n  else {\n    let common = this.schema.secured.common;\n    return common !== undefined ? common : true;\n  }\n};\n\nexport default isSecured;","import isRemote from '../utils/is_remote.js';\nimport callMeteorMethod from '../utils/call_meteor_method.js';\nimport classRemove from '../utils/class_remove.js';\n\nfunction remove(selector, options, callback) {\n  const Class = this;\n\n  // If we omit options argument then it may be a callback function.\n  if (options instanceof Function) {\n    callback = options;\n    options = {};\n  }\n  // Make sure that options is at least an empty object.\n  options = options || {};\n  // Prepare arguments.\n  const args = {\n    className: Class.getName(),\n    selector,\n    options\n  };\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    const methodName = '/Astronomy/remove';\n\n    try {\n      // Run Meteor method.\n      return callMeteorMethod(\n        Class, methodName, [args], callback\n      );\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Set the \"trusted\" argument to true.\n    args.trusted = true;\n    // Remove a document.\n    let result = classRemove(args);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default remove;","import isRemote from '../utils/is_remote.js';\nimport callMeteorMethod from '../utils/call_meteor_method.js';\nimport classUpdate from '../utils/class_update.js';\n\nfunction update(selector, modifier, options, callback) {\n  const Class = this;\n\n  // If we omit options argument then it may be a callback function.\n  if (options instanceof Function) {\n    callback = options;\n    options = {};\n  }\n  // Make sure that options is at least an empty object.\n  options = options || {};\n  // Prepare arguments.\n  const args = {\n    className: Class.getName(),\n    selector,\n    modifier,\n    options\n  };\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    const methodName = '/Astronomy/update';\n\n    try {\n      // Run Meteor method.\n      return callMeteorMethod(\n        Class, methodName, [args], callback\n      );\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Set the \"trusted\" argument to true.\n    args.trusted = true;\n    // Remove a document.\n    let result = classUpdate(args);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default update;","import isRemote from '../utils/is_remote.js';\nimport callMeteorMethod from '../utils/call_meteor_method.js';\nimport classUpsert from '../utils/class_upsert.js';\n\nfunction upsert(selector, modifier, options, callback) {\n  const Class = this;\n\n  // If we omit options argument then it may be a callback function.\n  if (options instanceof Function) {\n    callback = options;\n    options = {};\n  }\n  // Make sure that options is at least an empty object.\n  options = options || {};\n  // Prepare arguments.\n  const args = {\n    className: Class.getName(),\n    selector,\n    modifier,\n    options\n  };\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (isRemote(Class)) {\n    // Prepare meteor method name to be called.\n    const methodName = '/Astronomy/upsert';\n\n    try {\n      // Run Meteor method.\n      return callMeteorMethod(\n        Class, methodName, [args], callback\n      );\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just remove a document without calling the meteor method. We may\n  // be on the server or the collection may be local.\n  try {\n    // Set the \"trusted\" argument to true.\n    args.trusted = true;\n    // Remove a document.\n    let result = classUpsert(args);\n    if (callback) {\n      callback(undefined, result);\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default upsert;","import _each from 'lodash/each';\nimport _extend from 'lodash/extend';\nimport _zipObject from 'lodash/zipObject';\n// Utils.\nimport resolveValues from '../../fields/utils/resolveValues';\nimport hasMeteorMethod from '../utils/has_meteor_method';\n// Class static methods.\nimport { find, findOne } from '../class_static_methods/find';\nimport insert from '../class_static_methods/insert';\nimport update from '../class_static_methods/update';\nimport upsert from '../class_static_methods/upsert';\nimport remove from '../class_static_methods/remove';\n// Class prototype methods.\nimport protoSave from '../class_prototype_methods/save';\nimport protoRemove from '../class_prototype_methods/remove';\nimport protoReload from '../class_prototype_methods/reload';\nimport protoCopy from '../class_prototype_methods/copy';\nimport protoGetModifier from '../class_prototype_methods/getModifier';\nimport protoGetModified from '../class_prototype_methods/getModified';\nimport protoGetModifiedValues from '../class_prototype_methods/getModifiedValues';\nimport protoIsModified from '../class_prototype_methods/isModified';\n// Meteor methods.\nimport meteorInsert from '../meteor_methods/insert';\nimport meteorUpdate from '../meteor_methods/update';\nimport meteorUpsert from '../meteor_methods/upsert';\nimport meteorRemove from '../meteor_methods/remove';\n// Class events.\nimport fromJSONValue from '../class_events/fromJSONValue';\nimport toJSONValue from '../class_events/toJSONValue';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  const schema = Class.schema;\n\n  if (parsedDefinition.collection) {\n    const Collection = schema.collection = parsedDefinition.collection;\n    // Get type of the \"_id\" field.\n    const id = Collection._makeNewID();\n    const IdType = id.constructor;\n\n    Class.extend({\n      // Add the \"_id\" field if not already added.\n      fields: {\n        _id: {\n          name: '_id',\n          type: IdType,\n          optional: true\n        }\n      },\n      // Add storage events.\n      events: {\n        toJSONValue: [toJSONValue],\n        fromJSONValue: [fromJSONValue]\n      }\n    }, ['fields', 'events']);\n\n    // If it's a remote collection then we register methods on the connection\n    // object of the collection.\n    const connection = Collection._connection;\n    if (connection) {\n      // Prepare meteor methods to be added.\n      const meteorMethods = {\n        '/Astronomy/insert': meteorInsert,\n        '/Astronomy/update': meteorUpdate,\n        '/Astronomy/upsert': meteorUpsert,\n        '/Astronomy/remove': meteorRemove,\n      };\n      _each(meteorMethods, (meteorMethod, methodName) => {\n        if (!hasMeteorMethod(connection, methodName)) {\n          // Add meteor method.\n          connection.methods(_zipObject([methodName], [meteorMethod]));\n        }\n      });\n    }\n\n    // Class static methods.\n    Class.find = find;\n    Class.findOne = findOne;\n    Class.insert = insert;\n    Class.update = update;\n    Class.upsert = upsert;\n    Class.remove = remove;\n    // Class prototype methods.\n    Class.prototype.save = protoSave;\n    Class.prototype.remove = protoRemove;\n    Class.prototype.reload = protoReload;\n    Class.prototype.copy = protoCopy;\n    Class.prototype.getModifier = protoGetModifier;\n    Class.prototype.getModified = protoGetModified;\n    Class.prototype.getModifiedValues = protoGetModifiedValues;\n    Class.prototype.isModified = protoIsModified;\n  }\n\n  // Apply type field.\n  if (parsedDefinition.typeField) {\n    const typeField = schema.typeField = parsedDefinition.typeField;\n    // Add the type field if not already added.\n    if (!Class.hasField(typeField)) {\n      Class.extend({\n        fields: {\n          [typeField]: {\n            type: String,\n            index: 1\n          }\n        },\n        events: {\n          afterInit(e) {\n            const doc = e.currentTarget;\n            const Class = doc.constructor;\n            doc[typeField] = Class.getName();\n          }\n        }\n      }, ['fields', 'events']);\n    }\n\n    if (parsedDefinition.typeField) {\n      schema.typeField = parsedDefinition.typeField;\n    }\n  }\n\n  // If class has already assigned collection.\n  const Collection = Class.getCollection();\n  if (Collection) {\n    // Apply the \"transform\" property only if it's a function or equal null.\n    if (\n      typeof parsedDefinition.transform === 'function' ||\n      parsedDefinition.transform === null\n    ) {\n      schema.transform = parsedDefinition.transform;\n    }\n\n    if (parsedDefinition.secured !== undefined) {\n      _extend(schema.secured, parsedDefinition.secured);\n    }\n  }\n};\n\nexport default onApplyDefinition;","// Class static methods.\nimport getCollection from '../class_static_methods/get_collection.js';\nimport getTypeField from '../class_static_methods/get_type_field.js';\nimport getTransform from '../class_static_methods/get_transform.js';\nimport isSecured from '../class_static_methods/is_secured.js';\n\nfunction onInitClass(Class, className) {\n  // Class static methods.\n  Class.getCollection = getCollection;\n  Class.getTypeField = getTypeField;\n  Class.getTransform = getTransform;\n  Class.isSecured = isSecured;\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n  definition.collection = undefined;\n  definition.typeField = undefined;\n  definition.transform = undefined;\n  definition.secured = undefined;\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n  schema.collection = undefined;\n  schema.typeField = undefined;\n  schema.transform = undefined;\n  schema.secured = {\n    common: true\n  };\n};\n\nexport default onInitSchema;","import _extend from 'lodash/extend';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, ClassName) {\n  if (sourceDefinition.collection) {\n    targetDefinition.collection = sourceDefinition.collection;\n  }\n  if (sourceDefinition.typeField) {\n    targetDefinition.typeField = sourceDefinition.typeField;\n  }\n  if (sourceDefinition.transform !== undefined) {\n    targetDefinition.transform = sourceDefinition.transform;\n  }\n  if (sourceDefinition.secured !== undefined) {\n    targetDefinition.secured = _extend(\n      {},\n      targetDefinition.secured,\n      sourceDefinition.secured\n    );\n  }\n};\n\nexport default onMergeDefinitions;","import throwParseError from '../../core/utils/throw_parse_error.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n  // Check existence and validity of the \"collection\" property.\n  if (definition.collection !== undefined) {\n    // The \"collection\" property has to be an instance of the\n    // \"Mongo.Collection\".\n    if (!(definition.collection instanceof Mongo.Collection)) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'collection'\n        },\n        'Property value has to be an instance of \"Mongo.Collection\"'\n      ]);\n    }\n    parsedDefinition.collection = definition.collection;\n  }\n\n  // Check existence and validity of the \"typeField\" property.\n  if (definition.typeField !== undefined) {\n    // The \"typeField\" property has to be a string.\n    if (!Match.test(definition.typeField, String)) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'typeField'\n        },\n        'Property value has to be a string'\n      ]);\n    }\n    parsedDefinition.typeField = definition.typeField;\n  }\n\n  // Check existence and validity of the \"transform\" property.\n  if (definition.transform !== undefined) {\n    // The \"transform\" property has to be a function.\n    if (!Match.test(definition.transform, Match.OneOf(Function, null))) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'transform'\n        },\n        'Property value has to be a function or null'\n      ]);\n    }\n    parsedDefinition.transform = definition.transform;\n  }\n\n  // Check existence and validity of the \"secured\" property.\n  if (definition.secured !== undefined) {\n    if (!Match.test(definition.secured, Match.OneOf(Boolean, Object))) {\n      throwParseError([{\n          'class': className\n        }, {\n          'property': 'secured'\n        },\n        'Property value has to be a boolean or an object with keys being ' +\n        'method name and values being boolean'\n      ]);\n    }\n    if (typeof definition.secured === 'boolean') {\n      parsedDefinition.secured = {\n        common: definition.secured\n      };\n    }\n    else {\n      parsedDefinition.secured = definition.secured;\n    }\n  }\n};\n\nexport default onParseDefinition;","import classInsert from '../utils/class_insert.js';\nimport { check, Match } from 'meteor/check';\n\nfunction insert(args) {\n  check(args, Match.Any);\n\n  return classInsert(args);\n};\n\nexport default insert;","import classRemove from '../utils/class_remove.js';\nimport { check, Match } from 'meteor/check';\n\nfunction remove(args) {\n  check(args, Match.Any);\n\n  return classRemove(args);\n};\n\nexport default remove;","import classUpdate from '../utils/class_update.js';\nimport { check, Match } from 'meteor/check';\n\nfunction update(args) {\n  check(args, Match.Any);\n\n  return classUpdate(args);\n};\n\nexport default update;","import classUpsert from '../utils/class_upsert.js';\nimport { check, Match } from 'meteor/check';\n\nfunction upsert(args) {\n  check(args, Match.Any);\n\n  return classUpsert(args);\n};\n\nexport default upsert;","import { DDP } from 'meteor/ddp';\n\nfunction alreadyInSimulation() {\n  const enclosing = DDP._CurrentInvocation.get();\n  return enclosing && enclosing.isSimulation;\n}\n\nexport default alreadyInSimulation;","import _size from 'lodash/size';\nimport config from '../../../core/config';\nimport castNested from '../../fields/utils/castNested';\nimport setAll from '../../fields/utils/set_all';\nimport { LocalCollection } from 'meteor/minimongo';\n\nfunction applyModifier(args = {}) {\n  const {\n    doc,\n    modifier,\n    options\n  } = args;\n  // Apply modifier only if provided.\n  if (modifier && _size(modifier) > 0) {\n    // Get raw object because the \"_modify\" method can only work with plain\n    // objects.\n    const rawDoc = doc.raw();\n    // Use Minimongo's the \"_modify\" method to apply modifier.\n    LocalCollection._modify(rawDoc, modifier, options);\n    // Set all values back again on a document.\n    setAll(doc, rawDoc, {\n      defaults: config.defaults,\n      clone: false,\n      cast: false\n    });\n  }\n};\n\nexport default applyModifier;","const callMeteorMethod = (Class, methodName, methodArgs, callback) => {\n  const Collection = Class.getCollection();\n  let connection = Collection && Collection._connection;\n  if (!connection && (!Collection || !Collection._name)) {\n    connection = Meteor.connection || Meteor.server;\n  }\n  // Prepare meteor method options.\n  const methodOptions = {\n    throwStubExceptions: true,\n    returnStubValue: true\n  };\n  return connection.apply(methodName, methodArgs, methodOptions, callback);\n};\n\nexport default callMeteorMethod;\n","import AstroClass from '../../../core/class.js';\nimport documentInsert from './document_insert.js';\n\nfunction classInsert(args = {}) {\n  const {\n    className,\n    rawDoc,\n    stopOnFirstError,\n    fields,\n    simulation = true,\n    trusted = false,\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  const Class = AstroClass.get(className);\n  // Create a new document.\n  const doc = new Class(rawDoc);\n\n  // Insert a document.\n  return documentInsert({\n    doc,\n    stopOnFirstError,\n    simulation,\n    trusted,\n  });\n};\n\nexport default classInsert;","import AstroClass from '../../../core/class.js';\nimport alreadyInSimulation from './already_in_simulation.js';\nimport throwIfSelectorIsNotId from './throw_if_selector_is_not_id.js';\nimport documentRemove from './document_remove.js';\n\nfunction classRemove(args = {}) {\n  const {\n    className,\n    selector,\n    options,\n    simulation = true,\n    trusted = false\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  // Throw exception if we are trying to perform an operation on more than one\n  // document at once and it's not trusted call.\n  if (!trusted && !alreadyInSimulation()) {\n    throwIfSelectorIsNotId(selector, 'remove');\n  }\n\n  const Class = AstroClass.get(className);\n  // Get all documents matching selector.\n  const docs = Class.find(selector, options);\n  // Prepare result of the method execution.\n  let result = 0;\n\n  docs.forEach((doc) => {\n    // Update a document.\n    result += documentRemove({\n      doc,\n      simulation,\n      trusted\n    });\n  });\n\n  return result;\n};\n\nexport default classRemove;","import _extend from 'lodash/extend';\nimport _mapKeys from 'lodash/mapKeys';\nimport AstroClass from '../../../core/class.js';\nimport alreadyInSimulation from './already_in_simulation.js';\nimport throwIfSelectorIsNotId from './throw_if_selector_is_not_id.js';\nimport documentUpdate from './document_update.js';\nimport applyModifier from './apply_modifier.js';\nimport { Minimongo } from 'meteor/minimongo';\n\nfunction classUpdate(args = {}) {\n  const {\n    className,\n    selector,\n    modifier,\n    options,\n    stopOnFirstError,\n    fields,\n    simulation = true,\n    trusted = false\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  // Throw exception if we are trying to perform an operation on more than one\n  // document at once and it's not trusted call.\n  if (!trusted && !alreadyInSimulation()) {\n    throwIfSelectorIsNotId(selector, 'update');\n  }\n\n  const Class = AstroClass.get(className);\n  // Get all documents matching selector.\n  let docs;\n  let oldDocs;\n  if (options.multi) {\n    docs = Class.find(selector, options);\n    // Get all old documents in one batched query so that performance is\n    // improved when updating many documents. Map all documents to an object\n    // where properites are documents' IDs.\n    oldDocs = _mapKeys(Class.find(selector, _extend(options, {\n      defaults: false\n    })).fetch(), oldDoc => oldDoc._id);\n  }\n  else {\n    docs = Class.find(selector, _extend(options, {\n      limit: 1\n    }));\n    // Get all old documents in one batched query so that performance is\n    // improved when updating many documents. Map all documents to an object\n    // where properites are documents' IDs.\n    oldDocs = _mapKeys(Class.find(selector, _extend(options, {\n      limit: 1,\n      defaults: false\n    })).fetch(), oldDoc => oldDoc._id);\n  }\n\n  // Create a minimongo matcher object to find array indexes on the projection\n  // operator use.\n  const matcher = new Minimongo.Matcher(selector);\n\n  // Prepare result of the method execution.\n  let result = 0;\n\n  docs.forEach((doc) => {\n    const oldDoc = oldDocs[doc._id];\n    // Use matcher to find array indexes in a given document that needs updating\n    // on the projection operator use.\n    let queryResult = matcher.documentMatches(doc);\n\n    // Apply modifier.\n    applyModifier({\n      doc,\n      modifier,\n      options: queryResult.arrayIndices ? {\n        arrayIndices: queryResult.arrayIndices\n      } : {}\n    });\n\n    // Update a document.\n    result += documentUpdate({\n      doc,\n      stopOnFirstError,\n      simulation,\n      fields,\n      trusted,\n      oldDoc\n    });\n  });\n\n  return result;\n};\n\nexport default classUpdate;","import _extend from 'lodash/extend';\nimport AstroClass from '../../../core/class.js';\nimport alreadyInSimulation from './already_in_simulation.js';\nimport throwIfSelectorIsNotId from './throw_if_selector_is_not_id.js';\nimport documentInsert from './document_insert.js';\nimport documentUpdate from './document_update.js';\nimport applyModifier from './apply_modifier.js';\nimport { Minimongo, LocalCollection } from 'meteor/minimongo';\n\nfunction classUpsert(args = {}) {\n  const {\n    className,\n    selector,\n    modifier,\n    options,\n    stopOnFirstError,\n    fields,\n    simulation = true,\n    trusted = false,\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  // Throw exception if we are trying to perform an operation on more than one\n  // document at once and it's not trusted call.\n  if (!trusted && !alreadyInSimulation()) {\n    throwIfSelectorIsNotId(selector, 'upsert');\n  }\n\n  const Class = AstroClass.get(className);\n  // Get all documents matching selector.\n  let docs;\n  if (options.multi) {\n    docs = Class.find(selector, options);\n  }\n  else {\n    docs = Class.find(selector, _extend(options, {\n      limit: 1\n    }));\n  }\n\n  // Create a minimongo matcher object to find array indexes on the projection\n  // operator use.\n  const matcher = new Minimongo.Matcher(selector);\n\n  // Prepare result of the method execution.\n  const result = {\n    numberAffected: 0,\n    insertedId: null\n  };\n\n  if (docs.count() > 0) {\n    docs.forEach((doc) => {\n      // Use matcher to find array indexes in a given document that needs updating\n      // on the projection operator use.\n      let queryResult = matcher.documentMatches(doc);\n\n      // Apply modifier.\n      applyModifier({\n        doc,\n        modifier,\n        options: queryResult.arrayIndices ? {\n          arrayIndices: queryResult.arrayIndices\n        } : {}\n      });\n\n      // Update a document.\n      result.numberAffected += documentUpdate({\n        doc,\n        stopOnFirstError,\n        simulation,\n        fields,\n        trusted\n      });\n    });\n  }\n  else {\n    let doc;\n    // Create a new document from selector.\n    if (LocalCollection._createUpsertDocument) {\n      doc = new Class(LocalCollection._createUpsertDocument(selector, modifier));\n    }\n    else if (LocalCollection._removeDollarOperators) {\n      doc = new Class(LocalCollection._removeDollarOperators(selector));\n      // Apply modifier for the insert operation.\n      applyModifier({\n        doc,\n        modifier,\n        options: {\n          isInsert: true\n        }\n      });\n    }\n\n    // Insert a document.\n    result.insertedId = documentInsert({\n      doc,\n      stopOnFirstError,\n      simulation,\n      trusted,\n    });\n  }\n\n  return result;\n};\n\nexport default classUpsert;","import _each from 'lodash/each';\nimport _isArray from 'lodash/isArray';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _keys from 'lodash/keys';\nimport _noop from 'lodash/noop';\nimport _union from 'lodash/union';\nimport { EJSON } from 'meteor/ejson';\n\nfunction diff(args = {}) {\n  const {\n    fieldName,\n    newDoc,\n    oldDoc,\n    prefix = '',\n    result,\n    onDiff = _noop,\n    onObjectDiff = _noop,\n    onListDiff = _noop,\n    onScalarDiff = _noop,\n  } = args;\n\n  // Combine fields from old and new document.\n  const fieldsNames = _union(_keys(oldDoc), _keys(newDoc));\n\n  // Loop through all fields and check if they differ.\n  _each(fieldsNames, function(fieldName) {\n    const oldValue = oldDoc[fieldName];\n    const newValue = newDoc[fieldName];\n\n    if (!EJSON.equals(oldValue, newValue)) {\n      const nestedPrefix = (prefix && prefix + '.') + fieldName;\n\n      onDiff({\n        oldValue,\n        newValue,\n        prefix: nestedPrefix,\n        result\n      });\n\n      // Compare two objects.\n      if (_isPlainObject(oldValue) && _isPlainObject(newValue)) {\n        onObjectDiff({\n          oldDoc: oldValue,\n          newDoc: newValue,\n          prefix: nestedPrefix,\n          result\n        });\n      }\n      // Compare two lists.\n      else if (_isArray(oldValue) && _isArray(newValue)) {\n        onListDiff({\n          oldList: oldValue,\n          newList: newValue,\n          prefix: nestedPrefix,\n          result\n        });\n      }\n      // Compare two scalars.\n      else {\n        onScalarDiff({\n          oldValue,\n          newValue,\n          prefix: nestedPrefix,\n          result\n        });\n      }\n    }\n  });\n}\n\nexport default diff;","import _omitBy from 'lodash/omitBy';\nimport castNested from '../../fields/utils/castNested';\nimport rawAll from '../../fields/utils/rawAll';\nimport triggerBeforeSave from './trigger_before_save';\nimport triggerBeforeInsert from './trigger_before_insert';\nimport triggerAfterSave from './trigger_after_save';\nimport triggerAfterInsert from './trigger_after_insert';\nimport documentValidate from '../../validators/utils/document_validate';\n\nfunction documentInsert(args = {}) {\n  const {\n    doc,\n    stopOnFirstError,\n    fields,\n    simulation = true,\n    trusted = false\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n\n  // Generate ID if not provided.\n  if (!doc._id) {\n    doc._id = Collection._makeNewID();\n  }\n\n  // Check if a class is secured.\n  if (Class.isSecured('insert') && Meteor.isServer && !trusted) {\n    throw new Meteor.Error(403, 'Inserting from the client is not allowed');\n  }\n\n  // Cast nested documents.\n  castNested({\n    doc,\n    options: {\n      clone: false\n    }\n  });\n\n  // Trigger before events.\n  triggerBeforeSave(doc, trusted);\n  triggerBeforeInsert(doc, trusted);\n\n  // Cast nested documents.\n  castNested({\n    doc,\n    options: {\n      clone: false\n    }\n  });\n\n  // Validate a document.\n  documentValidate({\n    doc,\n    fields,\n    stopOnFirstError,\n    simulation\n  });\n\n  // Get plain values of all fields. Pick only values that we want to save.\n  let values = rawAll(doc, {\n    transient: false\n  });\n  values = _omitBy(values, (value) => value === undefined);\n\n  // Insert a document.\n  try {\n    // There is a difference in what the insert method returns depending on the\n    // environment. On the client it returns an inserted document id, on the\n    // server it returns array of inserted documents. So we always return the\n    // generated id. We can't send an entire document because it could be a\n    // security issue if we are not subscribed to all fields of a document.\n    Collection._collection.insert(values);\n\n    // Change the \"_isNew\" flag to \"false\". Mark a document as not new.\n    doc._isNew = false;\n\n    // Trigger after events.\n    triggerAfterInsert(doc, trusted);\n    triggerAfterSave(doc, trusted);\n\n    return doc._id;\n  }\n  catch(err) {\n    if (err.name === 'MongoError' || err.name === 'MinimongoError') {\n      throw new Meteor.Error(409, err.toString());\n    }\n    else {\n      throw err;\n    }\n  }\n};\n\nexport default documentInsert;\n","import triggerBeforeRemove from './trigger_before_remove.js';\nimport triggerAfterRemove from './trigger_after_remove.js';\n\nfunction documentRemove(args = {}) {\n  const {\n    doc,\n    simulation = true,\n    trusted = false\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n\n  // Remove only when document has the \"_id\" field (it's persisted).\n  if (doc._isNew) {\n    return 0;\n  }\n\n  // Check if a class is secured.\n  if (Class.isSecured('remove') && Meteor.isServer && !trusted) {\n    throw new Meteor.Error(403, 'Removing from the client is not allowed');\n  }\n\n  // Trigger before events.\n  triggerBeforeRemove(doc, trusted);\n\n  // Remove a document.\n  try {\n    const result = Collection._collection.remove({\n      _id: doc._id\n    });\n\n    // Mark a document as new, so it will be possible to save it again.\n    doc._isNew = true;\n\n    // Trigger after events.\n    triggerAfterRemove(doc, trusted);\n\n    return result;\n  }\n  catch(err) {\n    if (err.name === 'MongoError' || err.name === 'MinimongoError') {\n      throw new Meteor.Error(409, err.toString());\n    }\n    else {\n      throw err;\n    }\n  }\n};\n\nexport default documentRemove;","import _omit from 'lodash/omit';\nimport _size from 'lodash/size';\nimport castNested from '../../fields/utils/castNested';\nimport triggerBeforeSave from './trigger_before_save';\nimport triggerBeforeUpdate from './trigger_before_update';\nimport triggerAfterSave from './trigger_after_save';\nimport triggerAfterUpdate from './trigger_after_update';\nimport isModified from './isModified';\nimport getModifier from './getModifier';\nimport documentValidate from '../../validators/utils/document_validate';\n\nfunction documentUpdate(args = {}) {\n  let {\n    doc,\n    stopOnFirstError,\n    fields,\n    simulation = true,\n    forceUpdate = false,\n    trusted = false,\n    oldDoc\n  } = args;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  let Class = doc.constructor;\n  let Collection = Class.getCollection();\n\n  // Return if there were no modifications.\n  if (!isModified({\n      doc,\n      fields\n    })) {\n    // Validate a document even if there were no modifications.\n    documentValidate({\n      doc,\n      fields,\n      stopOnFirstError,\n      simulation\n    });\n    // 0 documents were modified.\n    return 0;\n  }\n\n  // Check if a class is secured.\n  if (Class.isSecured('update') && Meteor.isServer && !trusted) {\n    throw new Meteor.Error(403, 'Updating from the client is not allowed');\n  }\n\n  // Cast nested documents.\n  castNested({\n    doc,\n    options: {\n      clone: false\n    }\n  });\n\n  // Trigger before events.\n  triggerBeforeSave(doc, trusted);\n  triggerBeforeUpdate(doc, trusted);\n\n  // Cast nested documents.\n  castNested({\n    doc,\n    options: {\n      clone: false\n    }\n  });\n\n  // Validate a document.\n  documentValidate({\n    doc,\n    fields,\n    stopOnFirstError,\n    simulation\n  });\n\n  // Get modifier.\n  // If the \"forceUpdate\" option was set then we don't run the \"getModifier\"\n  // function to get modifier and instead we just take entire raw object and\n  // remove the \"_id\" field as we can't update it.\n  const modifier = forceUpdate ? _omit(doc.raw(), ['_id']) : getModifier({\n    doc,\n    fields,\n    oldDoc\n  });\n  // Stop execution is a modifier is empty.\n  if (_size(modifier) === 0) {\n    return 0;\n  }\n  // Update a document.\n  try {\n    const result = Collection._collection.update({\n      _id: doc._id\n    }, modifier);\n\n    // Trigger after events.\n    triggerAfterUpdate(doc, trusted);\n    triggerAfterSave(doc, trusted);\n\n    return result;\n  }\n  catch(err) {\n    if (err.name === 'MongoError' || err.name === 'MinimongoError') {\n      throw new Meteor.Error(409, err.toString());\n    }\n    else {\n      throw err;\n    }\n  }\n};\n\nexport default documentUpdate;\n","import _each from 'lodash/each';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _range from 'lodash/range';\nimport { EJSON } from 'meteor/ejson';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport rawMany from '../../fields/utils/rawMany';\nimport diff from './diff';\n\nconst handlers = {};\n\nhandlers.onDiff = function({prefix, result}) {\n  result.push(prefix);\n};\n\nhandlers.onObjectDiff = function({oldDoc, newDoc, prefix, result}) {\n  diff({\n    oldDoc,\n    newDoc,\n    prefix,\n    result,\n    ...handlers\n  });\n};\n\nhandlers.onListDiff = function({oldList, newList, prefix, result}) {\n  const maxLength = Math.max(oldList.length, newList.length);\n  _each(_range(maxLength), function(index) {\n    const arrayPrefix = `${prefix}.${index}`;\n    const oldElement = oldList[index];\n    const newElement = newList[index];\n    if (!EJSON.equals(oldElement, newElement)) {\n      result.push(arrayPrefix);\n      // If both array elements are object, then we perform diff between\n      // them.\n      if (_isPlainObject(oldElement) && _isPlainObject(newElement)) {\n        // Get a difference between elements.\n        diff({\n          oldDoc: oldElement,\n          newDoc: newElement,\n          prefix: arrayPrefix,\n          result,\n          ...handlers\n        });\n      }\n    }\n  });\n};\n\nfunction getModified(options = {}) {\n  let {\n    doc: newDoc,\n    transient = false,\n    immutable = false,\n    fields\n  } = options;\n\n  const Class = newDoc.constructor;\n  const opts = {\n    defaults: false\n  };\n  let oldDoc = Class.findOne(newDoc._id, opts);\n  if (!oldDoc) {\n    oldDoc = new Class({}, opts);\n  }\n  // If there is no document before modifications that may mean that we are not\n  // subscribed to the publication publishing given document or we modified the\n  // _id of a document.\n  if (!oldDoc) {\n    throwParseError([{\n        'module': 'storage'\n      }, {\n        'utility': 'getModified'\n      },\n      `Can not get a document before modifications. You are not subscribed ` +\n      `to the publication publishing a \"${Class.getName()}\" document with ` +\n      `the id \"${newDoc._id}\" or you have modified the \"_id\" field`\n    ]);\n  }\n\n  // If there are not fields specified, then get all of them.\n  if (!fields) {\n    fields = Class.getFieldsNames();\n  }\n\n  const result = [];\n  diff({\n    // Get raw data from the docs.\n    oldDoc: rawMany(oldDoc, fields, {\n      transient,\n      immutable,\n      undefined: false\n    }),\n    newDoc: rawMany(newDoc, fields, {\n      transient,\n      immutable,\n      undefined: false\n    }),\n    result,\n    ...handlers\n  });\n  return result;\n};\n\nexport default getModified;","import _each from 'lodash/each';\nimport _isNumber from 'lodash/isNumber';\nimport _isPlainObject from 'lodash/isPlainObject';\nimport _omitBy from 'lodash/omitBy';\nimport _size from 'lodash/size';\nimport { EJSON } from 'meteor/ejson';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport rawMany from '../../fields/utils/rawMany';\nimport diff from './diff';\n\nconst handlers = {};\n\nhandlers.onObjectDiff = function({oldDoc, newDoc, prefix, result}) {\n  diff({\n    oldDoc,\n    newDoc,\n    prefix,\n    result,\n    ...handlers\n  });\n};\n\nhandlers.onListDiff = function({oldList, newList, prefix, result}) {\n  // NOTE: We need check a new array size. If its length increased or stayed the\n  // same then all changes can be registered using the $set modifier. If an\n  // array length decreased, then we should slice it. However it may not be\n  // possible if some element has also changed. In such situation we have to\n  // override entire array.\n\n  // Array length decreased.\n  if (newList.length < oldList.length) {\n    // Due to an error in MiniMongo it's not possible to apply $push modifier\n    // with the $slice operator set to positive number. That's why we have to\n    // override entire array when it was shrinked.\n    result.$set[prefix] = newList;\n  }\n  // Array length increased or stayed the same.\n  else if (newList.length >= oldList.length) {\n    let modified = false;\n    // Compare up to number of elements in the new list.\n    _each(newList, (newElement, index) => {\n      const arrayPrefix = `${prefix}.${index}`;\n      const oldElement = oldList[index];\n      // When iterating over elements up to old array length.\n      if (index < oldList.length) {\n        if (!EJSON.equals(oldElement, newElement)) {\n          modified = true;\n          // If both array elements are object, then we perform diff.\n          if (_isPlainObject(oldElement) && _isPlainObject(newElement)) {\n            // Get a difference between elements.\n            diff({\n              oldDoc: oldElement,\n              newDoc: newElement,\n              prefix: arrayPrefix,\n              result,\n              ...handlers\n            });\n          }\n          else {\n            result.$set[arrayPrefix] = newElement;\n          }\n        }\n      }\n      // When iterating over newly added array elements.\n      else {\n        // Elements up to the old array length were modified, so we can not\n        // use the $push operator in conjunction with the $set operator.\n        if (modified) {\n          // If both array elements are object, then we perform diff.\n          if (_isPlainObject(oldElement) && _isPlainObject(newElement)) {\n            // Get a difference between elements.\n            diff({\n              oldDoc: oldElement,\n              newDoc: newElement,\n              prefix: arrayPrefix,\n              result,\n              ...handlers\n            });\n          }\n          else {\n            result.$set[arrayPrefix] = newElement;\n          }\n        }\n        // Elements up to the old array length were not modified, so if there\n        // is any new array element added, we can insert it with the $push\n        // operator.\n        else {\n          // We have to check if there is only one element being pushed or\n          // more. If there is only one element then we use\n          // $push[prefix]: element\n          if (newList.length - oldList.length === 1) {\n            result.$push[prefix] = newElement;\n          }\n          // If there are more elements we have to use\n          // $push: { [prefix]: { $each: elements } }\n          else {\n            result.$push[prefix] = {\n              $each: newList.slice(index)\n            };\n            // We have to break each loop here. We don't need to check any\n            // more elements.\n            return false;\n          }\n        }\n      }\n    });\n  }\n};\n\nhandlers.onScalarDiff = function({oldValue, newValue, prefix, result}) {\n  if (newValue !== undefined) {\n    if (_isNumber(oldValue) && _isNumber(newValue)) {\n      result.$inc[prefix] = newValue - oldValue;\n    }\n    else {\n      result.$set[prefix] = newValue;\n    }\n  }\n  else {\n    result.$unset[prefix] = '';\n  }\n};\n\nconst getModifier = function(options = {}) {\n  let {\n    doc: newDoc,\n    transient = false,\n    immutable = false,\n    fields,\n    oldDoc\n  } = options;\n\n  const Class = newDoc.constructor;\n  const opts = {\n    defaults: false\n  };\n  if (!oldDoc) {\n    oldDoc = Class.findOne(newDoc._id, opts);\n  }\n  if (!oldDoc) {\n    oldDoc = new Class({}, opts);\n  }\n\n  // If there is no document before modifications that may mean that we are not\n  // subscribed to the publication publishing given document or we modified the\n  // _id of a document.\n  if (!oldDoc) {\n    throwParseError([{\n        'module': 'storage'\n      }, {\n        'utility': 'getModified'\n      },\n      `Can not get a document before modifications. You are not subscribed ` +\n      `to the publication publishing a \"${Class.getName()}\" document with ` +\n      `the id \"${newDoc._id}\" or you have modified the \"_id\" field`\n    ]);\n  }\n\n  // If there are not fields specified, then get all of them.\n  if (!fields) {\n    fields = Class.getFieldsNames();\n  }\n\n  const result = {\n    $set: {},\n    $inc: {},\n    $unset: {},\n    $push: {}\n  };\n  diff({\n    // Get raw data from the docs.\n    oldDoc: rawMany(oldDoc, fields, {\n      transient,\n      immutable,\n      undefined: false\n    }),\n    newDoc: rawMany(newDoc, fields, {\n      transient,\n      immutable,\n      undefined: false\n    }),\n    result,\n    ...handlers\n  });\n\n  // Return only non empty modifiers.\n  return _omitBy(result, (modifier) => {\n    return _size(modifier) === 0;\n  });\n};\n\nexport default getModifier;","import _has from 'lodash/has';\n\nfunction hasMeteorMethod(connection, methodName) {\n  // There is inconsistency between client and server. On the client connection\n  // object contains the \"_methodHandlers\" property and on the server the\n  // \"method_handlers\" property.\n  let methodHandlers = connection._methodHandlers || connection.method_handlers;\n\n  return _has(methodHandlers, methodName);\n};\n\nexport default hasMeteorMethod;","import _includes from 'lodash/includes';\nimport getModified from './getModified';\n\nfunction isModified(options = {}) {\n  let {\n    doc,\n    pattern,\n    transient = false,\n    immutable = false\n  } = options;\n\n  let modified = getModified({\n    doc,\n    transient,\n    immutable\n  });\n\n  if (pattern) {\n    return _includes(modified, pattern);\n  }\n  else {\n    return modified.length > 0;\n  }\n};\n\nexport default isModified;","function isRemote(Class) {\n  const Collection = Class.getCollection();\n  if (!Collection) {\n    return false;\n  }\n  const connection = Collection._connection;\n\n  return connection && connection !== Meteor.server;\n}\n\nexport default isRemote;","import _isPlainObject from 'lodash/isPlainObject';\nimport _transform from 'lodash/transform';\n\nfunction omitUndefined(obj) {\n  return _transform(obj, function(result, value, key) {\n    if (_isPlainObject(value)) {\n      result[key] = omitUndefined(value);\n    }\n    else if (value !== undefined) {\n      result[key] = value;\n    }\n  });\n}\n\nexport default omitUndefined;","import { LocalCollection } from 'meteor/minimongo';\n\nfunction throwIfSelectorIsNotId(selector, methodName) {\n  if (!LocalCollection._selectorIsIdPerhapsAsObject(selector)) {\n    throw new Meteor.Error(\n      403,\n      `Not permitted. Untrusted code may only ${methodName} documents by ID.`\n    );\n  }\n};\n\nexport default throwIfSelectorIsNotId;","import _defaults from 'lodash/defaults';\nimport config from '../../../core/config';\nimport wrapTransform from './wrapTransform';\nimport castToClass from '../../fields/utils/castToClass';\nimport resolveValues from '../../fields/utils/resolveValues';\n\nfunction transformToClass(args = {}) {\n  const {\n    Class,\n    options = {}\n  } = args;\n\n  // When fetching document from collection we don't want to clone raw document\n  // and we want default values to be set.\n  _defaults(options, {\n    defaults: config.defaults,\n    clone: false,\n    cast: false\n  });\n\n  return function(rawDoc) {\n    const doc = castToClass({\n      Class,\n      rawDoc,\n      options\n    });\n    return doc;\n  }\n};\n\nexport default transformToClass;","import Event from '../../events/event.js';\n\nfunction triggerAfterInsert(doc, trusted) {\n\t// Trigger the \"afterInsert\" event handlers.\n\tdoc.dispatchEvent(new Event('afterInsert', {\n\t\tpropagates: true,\n\t\ttrusted: trusted\n\t}));\n};\n\nexport default triggerAfterInsert;","import Event from '../../events/event.js';\n\nfunction triggerAfterRemove(doc, trusted) {\n\t// Trigger the \"afterRemove\" event handlers.\n\tdoc.dispatchEvent(new Event('afterRemove', {\n\t\tpropagates: true,\n\t\ttrusted: trusted\n\t}));\n};\n\nexport default triggerAfterRemove;","import Event from '../../events/event.js';\n\nfunction triggerAfterSave(doc, trusted) {\n\t// Trigger the \"afterSave\" event handlers.\n\tdoc.dispatchEvent(new Event('afterSave', {\n\t\tpropagates: true,\n\t\ttrusted: trusted\n\t}));\n};\n\nexport default triggerAfterSave;","import Event from '../../events/event.js';\n\nfunction triggerAfterUpdate(doc, trusted) {\n\t// Trigger the \"afterUpdate\" event handlers.\n\tdoc.dispatchEvent(new Event('afterUpdate', {\n\t\tpropagates: true,\n\t\ttrusted: trusted\n\t}));\n};\n\nexport default triggerAfterUpdate;","import Event from '../../events/event.js';\n\nfunction triggerBeforeInsert(doc, trusted) {\n\t// Trigger the \"beforeInsert\" event handlers.\n\tif (!doc.dispatchEvent(new Event('beforeInsert', {\n\t\t\tcancelable: true,\n\t\t\tpropagates: true,\n\t\t\ttrusted: trusted\n\t\t}))) {\n\t\t// If an event was prevented, then we stop here.\n\t\tthrow new Meteor.Error('prevented', 'Operation prevented', {\n\t\t\teventName: 'beforeInsert'\n\t\t});\n\t}\n};\n\nexport default triggerBeforeInsert;","import Event from '../../events/event.js';\n\nfunction triggerBeforeRemove(doc, trusted) {\n\t// Trigger the \"beforeRemove\" event handlers.\n\tif (!doc.dispatchEvent(new Event('beforeRemove', {\n\t\t\tcancelable: true,\n\t\t\tpropagates: true,\n\t\t\ttrusted: trusted\n\t\t}))) {\n\t\t// If an event was prevented, then we stop here.\n\t\tthrow new Meteor.Error('prevented', 'Operation prevented', {\n\t\t\teventName: 'beforeRemove'\n\t\t});\n\t}\n};\n\nexport default triggerBeforeRemove;","import Event from '../../events/event.js';\n\nfunction triggerBeforeSave(doc, trusted) {\n\t// Trigger the \"beforeSave\" event handlers.\n\tif (!doc.dispatchEvent(new Event('beforeSave', {\n\t\t\tcancelable: true,\n\t\t\tpropagates: true,\n\t\t\ttrusted: trusted\n\t\t}))) {\n\t\t// If an event was prevented, then we stop here.\n\t\tthrow new Meteor.Error('prevented', 'Operation prevented', {\n\t\t\teventName: 'beforeSave'\n\t\t});\n\t}\n};\n\nexport default triggerBeforeSave;","import Event from '../../events/event.js';\n\nfunction triggerBeforeUpdate(doc, trusted) {\n\t// Trigger the \"beforeUpdate\" event handlers.\n\tif (!doc.dispatchEvent(new Event('beforeUpdate', {\n\t\t\tcancelable: true,\n\t\t\tpropagates: true,\n\t\t\ttrusted: trusted\n\t\t}))) {\n\t\t// If an event was prevented, then we stop here.\n\t\tthrow new Meteor.Error('prevented', 'Operation prevented', {\n\t\t\teventName: 'beforeUpdate'\n\t\t});\n\t}\n};\n\nexport default triggerBeforeUpdate;","import resolveValues from '../../fields/utils/resolveValues';\n\nfunction wrapTransform(args = {}) {\n  const {\n    Class,\n    transform\n  } = args;\n  return function(rawDoc) {\n    const resolvedValues = resolveValues({\n      Class,\n      rawDoc\n    });\n    resolvedValues._isNew = false;\n    return transform(resolvedValues);\n  }\n}\n\nexport default wrapTransform;","import Module from '../../core/module.js';\n// Validators.\nimport './validators/comparison/choice.js';\nimport './validators/comparison/email.js';\nimport './validators/comparison/equal.js';\nimport './validators/comparison/not_equal.js';\nimport './validators/comparison/regexp.js';\nimport './validators/existence/null.js';\nimport './validators/existence/not_null.js';\nimport './validators/existence/required.js';\nimport './validators/logical/and.js';\nimport './validators/logical/or.js';\nimport './validators/nested/every.js';\nimport './validators/nested/has.js';\nimport './validators/nested/includes.js';\nimport './validators/size/gt.js';\nimport './validators/size/gte.js';\nimport './validators/size/length.js';\nimport './validators/size/lt.js';\nimport './validators/size/lte.js';\nimport './validators/size/max_length.js';\nimport './validators/size/min_length.js';\nimport './validators/type/array.js';\nimport './validators/type/boolean.js';\nimport './validators/type/class.js';\nimport './validators/type/date.js';\nimport './validators/type/integer.js';\nimport './validators/type/mongo_object_id.js';\nimport './validators/type/number.js';\nimport './validators/type/object.js';\nimport './validators/type/string.js';\n// Utils.\nimport documentValidate from './utils/document_validate.js';\nimport parseValidators from './utils/parse_validators.js';\n// Hooks.\nimport onInitSchema from './hooks/init_schema.js';\nimport onInitDefinition from './hooks/init_definition.js';\nimport onParseDefinition from './hooks/parse_definition.js';\nimport onMergeDefinitions from './hooks/merge_definitions.js';\nimport onApplyDefinition from './hooks/apply_definition.js';\nimport onInitClass from './hooks/init_class.js';\n\nModule.create({\n\tname: 'validators',\n\tonInitSchema: onInitSchema,\n\tonInitDefinition: onInitDefinition,\n\tonParseDefinition: onParseDefinition,\n\tonMergeDefinitions: onMergeDefinitions,\n\tonApplyDefinition: onApplyDefinition,\n\tonInitClass: onInitClass,\n\tutils: {\n\t\tdocumentValidate: documentValidate,\n\t\tparseValidators: parseValidators\n\t}\n});","import { ValidationError } from 'meteor/mdg:validation-error';\nimport Validators from './validators.js';\n\nclass Validator {\n  constructor(definition) {\n    this.name = definition.name;\n    if (definition.parseParam) {\n      this.parseParam = definition.parseParam;\n    }\n    if (definition.isValid) {\n      this.isValid = definition.isValid;\n    }\n    if (definition.validate) {\n      this.validate = definition.validate;\n    }\n    if (definition.resolveError) {\n      this.resolveError = definition.resolveError;\n    }\n  }\n\n  validate({\n    doc,\n    name,\n    nestedName,\n    value,\n    param,\n    resolveParam,\n    message,\n    resolveError\n  }) {\n    // Get the class name, which will be used later for letting know what class\n    // thrown error.\n    const className = doc.constructor.getName();\n\n    // Resolve param is the \"resolveParam\" function is provided.\n    if (Match.test(resolveParam, Function)) {\n      param = resolveParam({\n        doc,\n        name,\n        nestedName,\n        value\n      });\n    }\n    // Parse param type if validator has parsing function.\n    if (Match.test(this.parseParam, Function)) {\n      this.parseParam(param);\n    }\n    // Prepare data for validation.\n    const args = {\n      className,\n      doc,\n      name,\n      nestedName,\n      value,\n      param,\n      validator: this.name\n    };\n    // Perform validation.\n    if (!this.isValid(args)) {\n      // Prepare function for throwing validation error.\n      const throwError = (message) => {\n        // Throw error only if the error message has been successfully\n        // generated.\n        if (!message) {\n          return;\n        }\n        // Throw error.\n        throw new ValidationError([{\n          className,\n          type: this.name,\n          name,\n          nestedName,\n          value,\n          param,\n          message\n        }], message);\n      };\n\n      // Generate error message using the \"resolveError\" function if provided.\n      if (Match.test(resolveError, Function)) {\n        throwError(resolveError(args));\n      }\n      // Get error message from the string if provided.\n      if (Match.test(message, String)) {\n        throwError(message);\n      }\n      // Get error by executing a class level \"resolveError\" function.\n      let Class = doc.constructor;\n      let classResolveError = Class.getResolveError();\n      if (classResolveError instanceof Function) {\n        throwError(classResolveError(args));\n      }\n      // Get default error message.\n      if (this.resolveError instanceof Function) {\n        throwError(this.resolveError(args));\n      }\n      throwError(ValidationError.DEFAULT_REASON);\n    }\n  }\n\n  static create(definition) {\n    let validator = new Validator(definition);\n    Validator.validators[validator.name] = validator;\n\n    // Create a validation function.\n    return Validators[validator.name] = function(options) {\n      validator.validate(options);\n    }\n  }\n};\n\nValidator.validators = {};\n\nexport default Validator;","const Validators = {};\n\nexport default Validators;","import _defaults from 'lodash/defaults';\nimport _each from 'lodash/each';\nimport castNested from '../../fields/utils/castNested';\nimport documentValidate from '../utils/document_validate';\nimport callMeteorMethod from '../../storage/utils/call_meteor_method';\n\nfunction validate(options = {}, callback) {\n  const doc = this;\n  const Class = doc.constructor;\n  const Collection = Class.getCollection();\n  let connection = Collection && Collection._connection;\n  if (!connection && (!Collection || !Collection._name)) {\n    connection = Meteor.connection;\n  }\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(options, Function)) {\n    callback = options;\n    options = {};\n  }\n\n  // Set default options.\n  _defaults(options, {\n    fields: Class.getValidationOrder(),\n    modified: false,\n    stopOnFirstError: true,\n    simulation: true\n  });\n\n  // If a fields property is a string then put it into array.\n  if (Match.test(options.fields, String)) {\n    options.fields = [options.fields];\n  }\n\n  // Cast all fields.\n  if (options.cast) {\n    _each(Class.getFields(), (field) => {\n      doc[field.name] = field.castValue(doc[field.name], {\n        clone: false,\n        cast: true\n      });\n    });\n  }\n  // Cast only nested fields.\n  else {\n    castNested({\n      doc,\n      options: {\n        clone: false\n      }\n    });\n  }\n\n  // Prepare arguments for meteor method and utility.\n  let methodArgs = {\n    doc,\n    fields: options.fields,\n    modified: options.modified,\n    stopOnFirstError: options.stopOnFirstError,\n    simulation: options.simulation,\n  };\n\n  // If we are dealing with a remote collection and we are not on the server.\n  if (connection && connection !== Meteor.server) {\n    // Prepare arguments for meteor method.\n    let methodName = '/Astronomy/validate';\n\n    try {\n      // Run Meteor method.\n      return callMeteorMethod(\n        Class, methodName, [methodArgs], callback\n      );\n    }\n    // Catch stub exceptions.\n    catch (err) {\n      if (callback) {\n        callback(err);\n        return null;\n      }\n      throw err;\n    }\n  }\n\n  // If we can just validate a document without calling the meteor method. We\n  // may be on the server or the collection may be local.\n  try {\n    // Validate a document.\n    let result = documentValidate(methodArgs);\n    if (callback) {\n      callback();\n    }\n    return result;\n  }\n  catch (err) {\n    if (callback) {\n      callback(err);\n      return null;\n    }\n    throw err;\n  }\n}\n\nexport default validate;","import _extend from 'lodash/extend';\n\nfunction validateAll(options = {}, callback) {\n  let doc = this;\n  let Class = doc.constructor;\n\n  // If the first argument is callback function then reassign values.\n  if (arguments.length === 1 && Match.test(options, Function)) {\n    callback = options;\n    options = {};\n  }\n\n  _extend(options, {\n    fields: Class.getValidationOrder(),\n    stopOnFirstError: false\n  });\n\n  doc.validate(options, callback);\n};\n\nexport default validateAll;","import { Match } from 'meteor/check';\nimport { ValidationError } from 'meteor/mdg:validation-error';\n\nfunction getCheckPattern() {\n  const Class = this;\n  return Match.Where(function(doc) {\n    try {\n      doc.validate();\n    }\n    catch(err) {\n      if (ValidationError.is(err)) {\n        const firstError = err.details[0];\n        const matchError = new Match.Error(firstError.message);\n        matchError.sanitizedError = err;\n        throw matchError;\n      }\n      else {\n        throw err;\n      }\n    }\n    return true;\n  });\n};\n\nexport default getCheckPattern;","function getResolveError() {\n\tlet Class = this;\n\n\treturn Class.schema.resolveError;\n};\n\nexport default getResolveError;","import _difference from 'lodash/difference';\n\nfunction getValidationOrder() {\n\tlet Class = this;\n\n\t// Get all validators.\n\tlet validators = Class.getValidators();\n\t// Get fields names for defined validators.\n\tlet fieldsNames = Class.getFieldsNames();\n\t// Make variable name shorter.\n\tlet validationOrder = Class.schema.validationOrder;\n\n\t// If there is a validation order provided, then combine fields provided in\n\t// the validation order with the order of validators.\n\tif (validationOrder) {\n\t\t// Detect what fields are not present in the validation order.\n\t\tlet diff = _difference(fieldsNames, validationOrder);\n\t\t// Combine validation order with fields that left.\n\t\treturn validationOrder.concat(diff);\n\t}\n\t// If there is no validation order, then just return fields names in the order\n\t// in which validators were defined.\n\telse {\n\t\treturn fieldsNames;\n\t}\n};\n\nexport default getValidationOrder;","function getValidators(fieldName) {\n\tlet Class = this;\n\n\tif (!Match.test(fieldName, Match.Optional(String))) {\n\t\tthrow TypeError(\n\t\t\t'The first argument of the \"getValidators\" function has to be a string ' +\n\t\t\t'or left empty'\n\t\t);\n\t}\n\n\tif (fieldName) {\n\t\treturn Class.schema.validators[fieldName];\n\t}\n\telse {\n\t\treturn Class.schema.validators;\n\t}\n};\n\nexport default getValidators;","import _tail from 'lodash/tail';\n\nfunction validate(rawDoc) {\n  const Class = this;\n  const doc = new Class(rawDoc);\n  const args = _tail(arguments);\n  return doc.validate.apply(doc, args);\n};\n\nexport default validate;","import _tail from 'lodash/tail';\n\nfunction validateAll(rawDoc) {\n  const Class = this;\n  const doc = new Class(rawDoc);\n  const args = _tail(arguments);\n  return doc.validateAll.apply(doc, args);\n};\n\nexport default validateAll;","import _each from 'lodash/each';\nimport _zipObject from 'lodash/zipObject';\nimport hasMeteorMethod from '../../storage/utils/has_meteor_method.js';\nimport meteorValidate from '../meteor_methods/validate.js';\n\nfunction onApplyDefinition(Class, parsedDefinition, className) {\n  _each(parsedDefinition.validators, function(validators, fieldName) {\n    Class.schema.validators[fieldName] =\n      Class.schema.validators[fieldName] || [];\n    _each(validators, function(validator) {\n      Class.schema.validators[fieldName] =\n        Class.schema.validators[fieldName].concat(validator);\n    });\n  });\n\n  // Add the \"/Astronomy/validate\" meteor method only when a class has assigned\n  // collection.\n  let Collection = Class.getCollection();\n  // If it's a remote collection then we register methods on the connection\n  // object of the collection.\n  let connection = Collection && Collection._connection;\n  // If it's not a remote collection than use main Meteor connection.\n  if (!connection && (!Collection || !Collection._name)) {\n    connection = Meteor.connection || Meteor.server;\n  }\n  if (connection) {\n    // Prepare meteor methods to be added.\n    let meteorMethods = {\n      '/Astronomy/validate': meteorValidate\n    };\n    _each(meteorMethods, (meteorMethod, methodName) => {\n      if (!hasMeteorMethod(connection, methodName)) {\n        // Add meteor method.\n        connection.methods(_zipObject([methodName], [meteorMethod]));\n      }\n    });\n  }\n\n  Class.schema.resolveError = parsedDefinition.resolveError;\n};\n\nexport default onApplyDefinition;","// Class static methods.\nimport getResolveError from '../class_static_methods/get_resolve_error.js';\nimport getValidationOrder from '../class_static_methods/get_validation_order.js';\nimport getValidators from '../class_static_methods/get_validators.js';\nimport validateStatic from '../class_static_methods/validate.js';\nimport validateAllStatic from '../class_static_methods/validateAll.js';\nimport getCheckPatternStatic from '../class_static_methods/getCheckPattern.js';\n// Class prototype methods.\nimport validate from '../class_prototype_methods/validate.js';\nimport validateAll from '../class_prototype_methods/validate_all.js';\n\nfunction onInitClass(Class, className) {\n\t// Class static methods.\n\tClass.getResolveError = getResolveError;\n\tClass.getValidationOrder = getValidationOrder;\n\tClass.getValidators = getValidators;\n\tClass.validate = validateStatic;\n\tClass.validateAll = validateAllStatic;\n\tClass.getCheckPattern = getCheckPatternStatic;\n\t// Class prototype methods.\n\tClass.prototype.validate = validate;\n\tClass.prototype.validateAll = validateAll;\n};\n\nexport default onInitClass;","function onInitDefinition(definition, className) {\n\tdefinition.validators = {};\n\tdefinition.resolveError = undefined;\n};\n\nexport default onInitDefinition;","function onInitSchema(schema, className) {\n\tschema.validators = {};\n\tschema.resolveError = undefined;\n};\n\nexport default onInitSchema;","import _each from 'lodash/each';\n\nfunction onMergeDefinitions(targetDefinition, sourceDefinition, ClassName) {\n\t_each(sourceDefinition.validators, function(validators, fieldName) {\n\t\ttargetDefinition.validators[fieldName] =\n\t\t\ttargetDefinition.validators[fieldName] || [];\n\t\ttargetDefinition.validators[fieldName] =\n\t\t\ttargetDefinition.validators[fieldName].concat(validators);\n\t});\n\n\ttargetDefinition.resolveError = sourceDefinition.resolveError;\n};\n\nexport default onMergeDefinitions;","import _each from 'lodash/each';\nimport _has from 'lodash/has';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport parseValidators from '../utils/parse_validators.js';\n\nfunction onParseDefinition(parsedDefinition, definition, className) {\n\tif (definition.resolveError) {\n\t\tif (!Match.test(definition.resolveError, Function)) {\n\t\t\tthrowParseError([{\n\t\t\t\t\t'class': className\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'resolveError'\n\t\t\t\t},\n\t\t\t\t'Property values has to be a function'\n\t\t\t]);\n\t\t}\n\n\t\tparsedDefinition.resolveError = definition.resolveError;\n\t}\n\n\tif (definition.fields) {\n\t\t_each(definition.fields, function(fieldDefinition, fieldName) {\n\t\t\tif (_has(fieldDefinition, 'validators')) {\n\t\t\t\tparseValidators(\n\t\t\t\t\tfieldDefinition.validators, [{\n\t\t\t\t\t\t'class': className\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'property': 'fields'\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'field': fieldName\n\t\t\t\t\t}, {\n\t\t\t\t\t\t'property': 'validators'\n\t\t\t\t\t}]\n\t\t\t\t);\n\n\t\t\t\tparsedDefinition.validators[fieldName] = fieldDefinition.validators;\n\t\t\t\tfieldDefinition.validators = undefined;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (definition.validators) {\n\t\t_each(definition.validators, function(validators, fieldName) {\n\t\t\tparseValidators(\n\t\t\t\tvalidators, [{\n\t\t\t\t\t'class': className\n\t\t\t\t}, {\n\t\t\t\t\t'property': 'validators'\n\t\t\t\t}]\n\t\t\t);\n\n\t\t\tparsedDefinition.validators[fieldName] = validators;\n\t\t});\n\t}\n};\n\nexport default onParseDefinition;","import documentValidate from '../utils/document_validate.js';\nimport { check, Match } from 'meteor/check';\n\nfunction validate(options) {\n  check(options, Match.Any);\n\n  return documentValidate(options);\n};\n\nexport default validate;","import _each from 'lodash/each';\nimport _intersection from 'lodash/intersection';\nimport _isNil from 'lodash/isNil';\nimport AstroClass from '../../../core/class';\nimport throwParseError from '../../core/utils/throw_parse_error';\nimport castNested from '../../fields/utils/castNested';\nimport isNestedFieldName from '../../fields/utils/isNestedFieldName';\nimport traverse from '../../fields/utils/traverse';\nimport ObjectField from '../../fields/ObjectField';\nimport ListField from '../../fields/ListField';\nimport Validators from '../validators';\nimport {\n  ValidationError\n}\nfrom 'meteor/mdg:validation-error';\n\nfunction documentValidate(options = {}) {\n  let {\n    doc,\n    fields,\n    modified = false,\n    prefix = '',\n    stopOnFirstError = true,\n    simulation = true\n  } = options;\n\n  // Stop execution, if we are not on the server, when the \"simulation\" flag is\n  // not set.\n  if (!simulation && !Meteor.isServer) {\n    return;\n  }\n\n  let Class = doc.constructor;\n\n  // Cast nested fields.\n  castNested({\n    doc,\n    options: {\n      clone: false\n    }\n  });\n\n  // Prepare array for storing errors list.\n  let errors = [];\n\n  // Helper function for catching and collecting errors.\n  const catchValidationError = (func) => {\n    try {\n      func();\n    }\n    catch (err) {\n      // If it's ValidationError.\n      if (ValidationError.is(err)) {\n        // If we stop on first error then just throw error again.\n        if (stopOnFirstError) {\n          throw err;\n        }\n        // Otherwise we collect errors.\n        else {\n          _each(err.details, (details) => {\n            errors.push(details);\n          });\n        }\n      }\n      // It it's not ValidationError, then we throw error again.\n      else {\n        throw err;\n      }\n    }\n  };\n\n  // If no fields were passed to validation, then we pick default validation\n  // order.\n  if (!fields) {\n    fields = Class.getValidationOrder();\n  }\n\n  // Validate only modified fields.\n  if (modified && Class.getCollection()) {\n    fields = _intersection(fields, doc.getModified());\n  }\n\n  _each(fields, (name) => {\n    // If it is a nested field pattern name then we have to look for the most\n    // nested document and validate the nested field.\n    if (isNestedFieldName(name)) {\n      traverse(doc, name, (nestedDoc, nestedName, field) => {\n        catchValidationError(() => {\n          documentValidate({\n            doc: nestedDoc,\n            fields: [nestedName],\n            prefix: prefix + name.substr(0, name.lastIndexOf(nestedName)),\n            stopOnFirstError,\n            simulation\n          });\n        });\n      });\n      return;\n    }\n\n    let field = Class.getField(name);\n\n    // Move to the next one if a field does not exist.\n    if (!field) {\n      return;\n    }\n\n    // We do not validate transient fields.\n    if (field.transient) {\n      return;\n    }\n\n    // Get value of the field.\n    let value = doc.get(name);\n\n    // If a field is optional and value is undefined then we do not validate.\n    if (field.getOptional(doc) && _isNil(value)) {\n      return;\n    }\n\n    // Execute validation in the try-catch block. That's because we want to\n    // continue validation if the \"stopOnFirstError\" flag is set to false.\n    catchValidationError(() => {\n      // First, execute type level validators.\n      field.validate({\n        doc,\n        name: prefix + name,\n        nestedName: name,\n        value\n      });\n      // Get validators for a given field.\n      let validators = Class.getValidators(name);\n      _each(validators, ({\n        type,\n        param,\n        resolveParam,\n        message,\n        resolveError\n      }) => {\n        // Get validation helper function.\n        let validationFunction = Validators[type];\n        // Execute single validator.\n        validationFunction({\n          doc,\n          name: prefix + name,\n          nestedName: name,\n          value,\n          param,\n          resolveParam,\n          message,\n          resolveError\n        });\n      });\n    });\n\n    // If it is the object field then validate it.\n    if (field instanceof ObjectField) {\n      if (value instanceof AstroClass) {\n        catchValidationError(() => {\n          documentValidate({\n            doc: value,\n            fields: value.constructor.getValidationOrder(),\n            prefix: prefix + field.name + '.',\n            stopOnFirstError\n          });\n        });\n      }\n    }\n    // If it is the list field then validate each one.\n    else if (field instanceof ListField && field.isClass) {\n      _each(value, (element, index) => {\n        if (element instanceof AstroClass) {\n          catchValidationError(() => {\n            documentValidate({\n              doc: element,\n              fields: element.constructor.getValidationOrder(),\n              prefix: prefix + field.name + '.' + index + '.',\n              stopOnFirstError\n            });\n          });\n        }\n      });\n    }\n  });\n\n  // If we have not thrown any error yet then it means that there are no errors\n  // or we do not throw on the first error.\n  if (errors.length > 0) {\n    throw new ValidationError(errors, errors[0].message);\n  }\n};\n\nexport default documentValidate;\n","import _each from 'lodash/each';\nimport _has from 'lodash/has';\nimport _union from 'lodash/union';\nimport throwParseError from '../../core/utils/throw_parse_error.js';\nimport Validators from '../validators.js';\n\nconst validatorsPattern = [{\n  type: String,\n  param: Match.Optional(Match.Any),\n  resolveParam: Match.Optional(Function),\n  message: Match.Optional(String),\n  resolveError: Match.Optional(Function)\n}];\n\nfunction parseValidators(validators, parseContext) {\n  // Validators list is an array of object that should include at least the\n  // \"type\" property.\n  if (validators && !Match.test(validators, validatorsPattern)) {\n    throwParseError(_union(\n      parseContext, ['Validators definition has to be an array of objects']\n    ));\n  }\n\n  _each(validators, function(validator) {\n    // Check if a validator of a given type exists.\n    if (!_has(Validators, validator.type)) {\n      throwParseError(_union(\n        parseContext, [`There is no \"${validator.type}\" validator`]\n      ));\n    }\n  });\n};\n\nexport default parseValidators;","import _includes from 'lodash/includes';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'choice',\n\tparseParam(param) {\n    if (!Match.test(param, [Match.Any])) {\n      throw new TypeError(\n        `Parameter for the \"choice\" validator has to be an array of values`\n      );\n    }\n  },\n  isValid({ value, param }) {\n    return _includes(param, value);\n  },\n  resolveError({ name, param }) {\n\t\tvar choices = param.join(', ');\n    return `\"${name}\" has to be one of the values ${choices}`;\n  }\n});","import Validator from '../../validator.js';\n\n// The e-mail address regular expression from http://emailregex.com/.\nconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\nValidator.create({\n  name: 'email',\n  isValid({ value }) {\n    return re.test(value);\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" should be a valid email address`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'equal',\n  isValid({ value, param }) {\n    return EJSON.equals(value, param);\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" should be equal ${param}`;\n  }\n});\n","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'notEqual',\n  isValid({ value, param }) {\n    return !EJSON.equals(value, param);\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" should not to be equal ${param}`;\n  }\n});\n","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'regexp',\n\tparseParam(param) {\n    if (!Match.test(param, RegExp)) {\n      throw new TypeError(\n        `Parameter for the \"regexp\" validator has to be a regular expression`\n      );\n    }\n  },\n  isValid({ value, param }) {\n    return param.test(value);\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" does not match the \"${param.toString()}\" regular expression`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'notNull',\n  isValid({ value }) {\n    return value !== null;\n  },\n  resolveError({ name }) {\n    return `\"${name}\" should not be null`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'null',\n  isValid({ value }) {\n    return value === null;\n  },\n  resolveError({ name }) {\n    return `\"${name}\" should be null`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'required',\n  isValid({ value }) {\n    return value !== null && value !== undefined;\n  },\n  resolveError({ name }) {\n    return `\"${name}\" is required`;\n  }\n});","import _each from 'lodash/each';\nimport parseValidators from '../../utils/parse_validators.js';\nimport Validator from '../../validator.js';\nimport Validators from '../../validators.js';\n\nValidator.create({\n  name: 'and',\n  parseParam(param) {\n    parseValidators(param);\n  },\n  validate({\n    doc,\n    name,\n    value,\n    param: validators\n  }) {\n    _each(validators, function(validator) {\n      // Get validator.\n      const validationFunction = Validators[validator.type];\n      // Execute single validator.\n      validationFunction({\n        doc,\n        name,\n        value,\n        param: validator.param\n      });\n    });\n  }\n});","import _some from 'lodash/some';\nimport parseValidators from '../../utils/parse_validators.js';\nimport Validator from '../../validator.js';\nimport Validators from '../../validators.js';\nimport { ValidationError } from 'meteor/mdg:validation-error';\n\nValidator.create({\n  name: 'or',\n  parseParam(param) {\n    parseValidators(param);\n  },\n  validate({\n    doc,\n    name,\n    value,\n    param: validators\n  }) {\n    let firstError;\n    const isValid = _some(validators, function(validator) {\n      // Get validator.\n      const validationFunction = Validators[validator.type];\n      // Execute single validator.\n      try {\n        validationFunction({\n          doc,\n          name,\n          value,\n          param: validator.param\n        });\n        return true;\n      }\n      catch (err) {\n        if (ValidationError.is(err)) {\n          // Collect only the first error that occured.\n          if (!firstError) {\n            firstError = err;\n          }\n          return false;\n        }\n        else {\n          throw err;\n        }\n      }\n    });\n\n    if (!isValid) {\n      throw firstError;\n    }\n  }\n});","import _each from 'lodash/each';\nimport _isArray from 'lodash/isArray';\nimport parseValidators from '../../utils/parse_validators.js';\nimport Validator from '../../validator.js';\nimport Validators from '../../validators.js';\n\nValidator.create({\n  name: 'every',\n  parseParam(param) {\n    parseValidators(param);\n  },\n  validate({\n    doc,\n    name,\n    nestedName,\n    value,\n    param: validators\n  }) {\n    if (!_isArray(value)) {\n      throw new TypeError(\n        `The \"every\" validator can only work with arrays`\n      );\n    }\n\n    // Execute validators for each array element.\n    _each(value, function(element, index) {\n      // Execute each validator.\n      _each(validators, function(validator) {\n        // Get validator.\n        const validationFunction = Validators[validator.type];\n        // Execute single validator.\n        validationFunction({\n          doc,\n          name: `${name}.${index}`,\n          nestedName: `${nestedName}.${index}`,\n          value: element,\n          param: validator.param\n        });\n      });\n    });\n  }\n});","import _isObject from 'lodash/isObject';\nimport _has from 'lodash/has';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'has',\n  isValid({ value, param }) {\n    if (!_isObject(value)) {\n      throw new TypeError(\n        `The \"has\" validator can only work with objects`\n      );\n    }\n    return _has(value, param);\n  },\n  resolveError({ name, param }) {\n    return `The \"${name}\" field does not have the \"${param}\" property`;\n  }\n});","import _includes from 'lodash/includes';\nimport _isArray from 'lodash/isArray';\nimport _isObject from 'lodash/isObject';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'includes',\n  isValid({ value, param }) {\n    if (!_isArray(value) && !_isObject(value)) {\n      throw new TypeError(\n        `The \"includes\" validator can only work with arrays and objects`\n      );\n    }\n    return _includes(value, param);\n  },\n  resolveError({ name, param }) {\n    return `The \"${name}\" field does not contain the \"${param}\" value`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'gt',\n  isValid({ value, param }) {\n    return value > param;\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" has to be greater than ${param}`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'gte',\n  isValid({ value, param }) {\n    return value >= param;\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" has to be greater than or equal ${param}`;\n  }\n});","import _has from 'lodash/has';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'length',\n  parseParam(param) {\n    if (!Match.test(param, Number)) {\n      throw new TypeError(\n        `Parameter for the \"length\" validator has to be a number`\n      );\n    }\n  },\n  isValid({ value, param }) {\n    if (!_has(value, 'length')) {\n      throw new TypeError(\n        `Length of the value can not be measured`\n      );\n    }\n    return value.length === param;\n  },\n  resolveError({ name, param }) {\n    return `Length of \"${name}\" has to be ${param}`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'lt',\n  isValid({ value, param }) {\n    return value < param;\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" has to be less than ${param}`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'lte',\n  isValid({ value, param }) {\n    return value <= param;\n  },\n  resolveError({ name, param }) {\n    return `\"${name}\" has to be less than or equal ${param}`;\n  }\n});","import _has from 'lodash/has';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'maxLength',\n  parseParam(param) {\n    if (!Match.test(param, Number)) {\n      throw new TypeError(\n        `Parameter for the \"maxLength\" validator has to be a number`\n      );\n    }\n  },\n  isValid({ value, param }) {\n    if (!_has(value, 'length')) {\n      return false;\n    }\n    return value.length <= param;\n  },\n  resolveError({ name, param }) {\n    return `Length of \"${name}\" has to be at most ${param}`;\n  }\n});","import _has from 'lodash/has';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'minLength',\n  parseParam(param) {\n    if (!Match.test(param, Number)) {\n      throw new TypeError(\n        `Parameter for the \"minLength\" validator has to be a number`\n      );\n    }\n  },\n  isValid({ value, param }) {\n    if (!_has(value, 'length')) {\n      return false;\n    }\n    return value.length >= param;\n  },\n  resolveError({ name, param }) {\n    return `Length of \"${name}\" has to be at least ${param}`;\n  }\n});","import _isArray from 'lodash/isArray';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'array',\n  isValid({ value }) {\n    return _isArray(value);\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be an array`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'boolean',\n  isValid({ value }) {\n    return typeof value === 'boolean';\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be a boolean`;\n  }\n});","import Validator from '../../validator.js';\nimport AstroClass from '../../../../core/class.js';\n\nValidator.create({\n  name: 'class',\n  parseParam(param) {\n    if (!AstroClass.isParentOf(param)) {\n      throw new TypeError(\n        `Parameter for the \"class\" validator has to be an Astronomy class`\n      );\n    }\n  },\n  isValid({\n    value,\n    param: Class\n  }) {\n    return value instanceof Class;\n  },\n  resolveError({\n    name,\n    param: Class\n  }) {\n    let className = Class.getName();\n    return `\"${name}\" has to be ${className}`;\n  }\n});","import _isDate from 'lodash/isDate';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'date',\n  isValid({ value }) {\n    return _isDate(value);\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be a date`;\n  }\n});","import _isInteger from 'lodash/isInteger';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'integer',\n  isValid({ value }) {\n    return _isInteger(value);\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be an integer`;\n  }\n});","import Validator from '../../validator.js';\nimport { Match } from 'meteor/check';\nimport { Mongo } from 'meteor/mongo';\n\nValidator.create({\n  name: 'mongoObjectID',\n  isValid({ value }) {\n    return Match.test(value, Mongo.ObjectID);;\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be a Mongo.ObjectID`;\n  }\n});","import _isNaN from 'lodash/isNaN';\nimport _isNumber from 'lodash/isNumber';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'number',\n  isValid({ value }) {\n    return !_isNaN(value) && _isNumber(value);\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be a number`;\n  }\n});\n","import _isObject from 'lodash/isObject';\nimport Validator from '../../validator.js';\n\nValidator.create({\n  name: 'object',\n  isValid({ value }) {\n    return _isObject(value);\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be an object`;\n  }\n});","import Validator from '../../validator.js';\n\nValidator.create({\n  name: 'string',\n  isValid({ value }) {\n    return typeof value === 'string';\n  },\n  resolveError({ name }) {\n    return `\"${name}\" has to be a string`;\n  }\n});"]}